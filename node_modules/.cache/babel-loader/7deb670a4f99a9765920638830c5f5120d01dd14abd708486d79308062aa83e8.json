{"ast":null,"code":"var _jsxFileName = \"/home/tk-lpt-739/Downloads/eDOCSigAdminReact/eDOCSigAdminReact/src/pages/ManagePackage/Draggablelist.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport \"./managepackage.css\";\nimport { Formik } from \"formik\";\nimport * as yup from \"yup\";\nimport { TextFieldFormik } from \"../../components/input/TextFieldFormik\";\nimport { CheckBoxFormik } from \"../../components/input/CheckBoxFromik\";\nimport List from \"./List\";\nimport { connect } from \"react-redux\";\nimport { apiPaths } from \"../../constants/apiPaths\";\nimport { adaptParticipant, adaptSigset } from \"../../helpers/adapters\";\nimport { hex32Toa, stringToHex32 } from \"../../helpers/hex32toa\";\nimport { addPackage } from \"../../actions/packages\";\nimport { useNavigate } from \"react-router-dom\";\nimport { resetState } from \"../../actions/settings\";\nimport Modal from \"../../components/general/Modal\";\nimport { EventModal } from \"../../components/manage-package/EventModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst event = {\n  id: \"184E6B07A79A476B8C19D1822190CF7B\",\n  type: \"PKG_RESEND_IF_N_SGND\",\n  nexttest: \"2022-12-07 14:07:16\",\n  name: \"PKG_RESEND_IF_N_SGND1\",\n  description: \"Resend tickets if not signed (2022-12-07 14:07:16)\"\n};\nconst DraggableList = /*#__PURE__*/_s( /*#__PURE__*/React.memo(_c = _s(props => {\n  _s();\n  const {\n    current_package_name,\n    participants,\n    selectedPackage,\n    user,\n    session,\n    host,\n    maxx,\n    maxy,\n    sigining_docs,\n    requested_docs,\n    review_docs,\n    element,\n    values,\n    selectedSharing,\n    total,\n    targettable,\n    requestUser,\n    reviewUser,\n    message,\n    loader,\n    addPackage,\n    resetState\n  } = props;\n  const navigate = useNavigate();\n  const [cancelWarning, setCancelWarning] = useState(false);\n  const [showEventModal, setShowEventModal] = useState(false);\n  const [events, setEvents] = useState([]);\n  const ids = useRef(0);\n  useEffect(() => {\n    if (message === \"pkg created\") {\n      navigate(\"/app\");\n    }\n  }, [message]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const initialValues = {\n    package_name: selectedPackage ? selectedPackage.name : current_package_name,\n    notification_name: selectedPackage ? selectedPackage.notificationname : user.fullname,\n    notification_email: selectedPackage ? selectedPackage.notificationemail : user.email,\n    URL_field_name: selectedPackage ? hex32Toa(selectedPackage.redirecturl) : \"\",\n    force_signers_check_box: selectedPackage ? selectedPackage.forcename : false\n  };\n  const schema = yup.object().shape({\n    package_name: yup.string().required(),\n    notification_name: yup.string().required(),\n    notification_email: yup.string().required(),\n    URL_field_name: yup.string(),\n    signer_as: yup.string().when(\"password_check_box\", {\n      is: true,\n      then: yup.string().required()\n    })\n  });\n  const onCreate = async val => {\n    const signers = participants.map((p, i) => {\n      return adaptParticipant(p, i);\n    });\n    let triggersAdded = events.length === 0;\n    let presentationorder = \"\";\n    const signingDocs = sigining_docs.map((s, i) => {\n      const addedParticipant = {};\n      const signatureboxes = element[i].map(e => {\n        const foundUser = signers.find(s => s.id === e.signer);\n        if (foundUser) {\n          addedParticipant[e.signer] = foundUser;\n        }\n        return adaptSigset(e, maxx[i], maxy[i], total[i]);\n      });\n      presentationorder = presentationorder + s.display_name + \",\";\n      const obj = {\n        session,\n        controlid: user.controlid,\n        host,\n        formname: sigining_docs[i].display_name,\n        sendcopy: 0,\n        triggers: [],\n        signatureboxes,\n        sharingids: selectedSharing[i] || [],\n        indexfields: values[i] || [],\n        targettable: targettable[i] || [],\n        files: [sigining_docs[i].uniqnm],\n        presentationorder: sigining_docs[i].display_name,\n        signers: Object.values(addedParticipant),\n        forcename: val.force_signers_check_box,\n        redirecturl: val.URL_field_name\n      };\n      if (!triggersAdded) {\n        obj.packagetriggers = events;\n        triggersAdded = true;\n      }\n      return obj;\n    });\n    const reviewDocs = review_docs.map((r, i) => {\n      const docSigner = [];\n      reviewUser[i].forEach(key => {\n        const foundUser = signers.find(p => p.id === key);\n        if (foundUser) {\n          docSigner.push(foundUser);\n        }\n      });\n      presentationorder = presentationorder + r.display_name + \",\";\n      const obj = {\n        session,\n        controlid: user.controlid,\n        signers: docSigner,\n        formname: r.display_name,\n        pkgname: current_package_name,\n        files: [r.uniqnm],\n        presentationorder: r.display_name,\n        host,\n        action: \"CREATEREFDOC\"\n      };\n      if (!triggersAdded) {\n        obj.packagetriggers = events;\n        triggersAdded = true;\n      }\n      return obj;\n    });\n    const requestDocs = requested_docs.map((r, i) => {\n      const docSigner = [];\n      requestUser[i].forEach(key => {\n        const foundUser = signers.find(p => p.id === key);\n        if (foundUser) {\n          docSigner.push(foundUser);\n        }\n      });\n      const obj = {\n        session,\n        controlid: user.controlid,\n        signers: docSigner,\n        formname: r.name,\n        host,\n        formmessage: stringToHex32(r.message),\n        action: \"CREATEREQDOC\",\n        indexing: []\n      };\n      if (!triggersAdded) {\n        obj.packagetriggers = events;\n        triggersAdded = true;\n      }\n      return obj;\n    });\n    presentationorder = presentationorder.slice(0, -1);\n    const payload = {\n      send: val.send,\n      signingDocs,\n      reviewDocs,\n      requestDocs,\n      presentationorder,\n      fileName: sigining_docs[0].display_name,\n      package: {\n        id: selectedPackage ? selectedPackage.id : \"\",\n        session,\n        controlid: user.controlid,\n        action: \"CREATE\",\n        host,\n        username: user.username,\n        pkgname: val.package_clname,\n        notificationemail: \"\",\n        notificationname: \"\"\n      }\n    };\n    if (val.send) {\n      payload[\"sendObj\"] = {\n        session,\n        controlid: user.controlid,\n        host,\n        action: \"SEND\"\n      };\n    }\n    await modifyPdf(payload);\n\n    // addPackage(payload);\n  };\n\n  const modifyPdf = async payLoad => {\n    console.log(\"payLoad.signingDocss\\n\", JSON.stringify(payLoad.signingDocs));\n    let res = await fetch(apiPaths.uploadFile, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payLoad.signingDocs)\n    });\n    res = await res.json();\n    console.log(res);\n  };\n  const onCancel = () => {\n    resetState();\n    navigate(\"/app/\");\n  };\n  const toggleCancelWarning = () => {\n    setCancelWarning(!cancelWarning);\n  };\n  const toggleEventModal = () => {\n    setShowEventModal(!showEventModal);\n  };\n  const handleSend = values => {\n    onCreate({\n      ...values,\n      send: true\n    });\n  };\n  const handleRemoveEvent = index => {\n    return () => {\n      const clone = [...events];\n      clone.splice(index, 1);\n      setEvents(clone);\n    };\n  };\n  const addEvent = val => {\n    const date = new Date();\n    const obj = {\n      ...val\n    };\n    obj.id = ids.current;\n    date.setDate(date.getDate() + val.days);\n    const dateStr = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()} ${date.toTimeString().slice(0, 8)}`;\n    obj.nexttest = dateStr;\n    obj.name = obj.type + ids.current;\n    obj.description = obj.description + \" (\" + dateStr + \")\";\n    const clone = [...events, obj];\n    ids.current++;\n    setEvents(clone);\n  };\n  const disabled = selectedPackage !== null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValues,\n      validationSchema: schema,\n      onSubmit: onCreate,\n      children: _ref => {\n        let {\n          values,\n          errors,\n          touched,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          setFieldTouched,\n          setFieldValue,\n          isValid\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main_container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"folder\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Manage Package\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn manage_btn\",\n                    type: \"button\",\n                    disabled: loader,\n                    onClick: toggleEventModal,\n                    children: \"Events\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn manage_btn\",\n                    type: \"button\",\n                    disabled: loader,\n                    onClick: toggleCancelWarning,\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn manage_btn\",\n                    type: \"submit\",\n                    disabled: loader,\n                    children: \"Save\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"triangle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"belowFolder\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"internalDiv\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"packagename_field mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex align-items-center flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"field_name\",\n                      children: \" Package Name: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"field_input flex-1\",\n                      children: /*#__PURE__*/_jsxDEV(TextFieldFormik, {\n                        warpperClassName: \"form-group\",\n                        name: \"package_name\",\n                        id: \"package_name\",\n                        placeholder: \"\",\n                        label: \"\",\n                        handleChange: handleChange,\n                        handleBlur: handleBlur,\n                        values: values,\n                        touched: touched,\n                        errors: errors,\n                        autoComplete: \"off\",\n                        disabled: disabled || loader\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 372,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 371,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex flex-1 justify-content-end\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn_fieldinput\",\n                      disabled: loader || !isValid,\n                      onClick: () => {\n                        handleSend(values);\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fa-solid fa-paper-plane-top fa-xl icon-color\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 398,\n                        columnNumber: 27\n                      }, this), \"Send\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn_fieldinput\",\n                      disabled: loader,\n                      type: \"button\",\n                      onClick: toggleCancelWarning,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fa-sharp fa-solid fa-ban fa-xl icon-color\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 408,\n                        columnNumber: 27\n                      }, this), \"Cancel\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 402,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn_fieldinput\",\n                      disabled: loader,\n                      type: \"button\",\n                      onClick: toggleCancelWarning,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fa-sharp fa-solid fa-trash fa-xl icon-color\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 418,\n                        columnNumber: 27\n                      }, this), \"Delete\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"notification_field mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex flex-1 align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"field_name\",\n                      children: \"Notification Name:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 426,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"field_input flex-1\",\n                      children: /*#__PURE__*/_jsxDEV(TextFieldFormik, {\n                        warpperClassName: \"form-group\",\n                        name: \"notification_name\",\n                        id: \"notification_name\",\n                        placeholder: \"\",\n                        label: \"\",\n                        handleChange: handleChange,\n                        handleBlur: handleBlur,\n                        values: values,\n                        touched: touched,\n                        errors: errors,\n                        autoComplete: \"off\",\n                        disabled: disabled || loader\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 428,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex flex-1 align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"field_name\",\n                      children: \"Notification Email: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 445,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"field_input flex-1\",\n                      children: /*#__PURE__*/_jsxDEV(TextFieldFormik, {\n                        warpperClassName: \"form-group\",\n                        name: \"notification_email\",\n                        id: \"notification_email\",\n                        placeholder: \"\",\n                        label: \"\",\n                        handleChange: handleChange,\n                        handleBlur: handleBlur,\n                        values: values,\n                        touched: touched,\n                        errors: errors,\n                        autoComplete: \"off\",\n                        disabled: disabled || loader\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 447,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 446,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 444,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"URL_field mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"field_name\",\n                    children: \"Redirect URL:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"URL_field_input\",\n                    children: /*#__PURE__*/_jsxDEV(TextFieldFormik, {\n                      warpperClassName: \"form-group\",\n                      name: \"URL_field_name\",\n                      id: \"URL_field_name\",\n                      placeholder: \"\",\n                      label: \"\",\n                      handleChange: handleChange,\n                      handleBlur: handleBlur,\n                      values: values,\n                      touched: touched,\n                      errors: errors,\n                      autoComplete: \"off\",\n                      disabled: disabled || loader\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 468,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"security_field mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"field_name\",\n                    children: \" Added Security: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-2\",\n                    children: /*#__PURE__*/_jsxDEV(CheckBoxFormik, {\n                      className: \"form-check-input\",\n                      name: \"password-check-box\",\n                      disabled: loader,\n                      setFieldTouched: setFieldTouched,\n                      setFieldValue: setFieldValue,\n                      values: values\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 488,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: \"Password protect PDFs upon download\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"sec_field_name ms-3\",\n                    children: \"Password:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"security_field_input flex-1\",\n                    children: /*#__PURE__*/_jsxDEV(TextFieldFormik, {\n                      warpperClassName: \"form-group\",\n                      name: \"Password_field_name\",\n                      id: \"Password_field_name\",\n                      placeholder: \"\",\n                      label: \"\",\n                      handleChange: handleChange,\n                      handleBlur: handleBlur,\n                      values: values,\n                      touched: touched,\n                      errors: errors,\n                      autoComplete: \"off\",\n                      disabled: loader\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 500,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-2\",\n                    children: /*#__PURE__*/_jsxDEV(CheckBoxFormik, {\n                      className: \"form-check-input\",\n                      name: \"force_signers_check_box\",\n                      disabled: disabled || loader,\n                      setFieldTouched: setFieldTouched,\n                      setFieldValue: setFieldValue,\n                      values: values\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 517,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"m-0\",\n                    children: \"Force signers to use typed names as signatures\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"Participants_field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"participant_heading\",\n                    children: \"Participants:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 532,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(List, {\n                    items: participants\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 533,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this), cancelWarning && /*#__PURE__*/_jsxDEV(Modal, {\n      onClose: toggleCancelWarning,\n      classes: \"bg-white rounded p-4 w-25\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"All uploaded documents and information will be discarded. Do you wish to continue?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end p-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: toggleCancelWarning,\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success ms-3\",\n            onClick: onCancel,\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 9\n    }, this), showEventModal && /*#__PURE__*/_jsxDEV(EventModal, {\n      events: events,\n      addEvent: addEvent,\n      toggleEventModal: toggleEventModal,\n      handleRemoveEvent: handleRemoveEvent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 5\n  }, this);\n}, \"zz4vXBHbuQyzpevKavKLfZr3cTs=\", false, function () {\n  return [useNavigate];\n})), \"zz4vXBHbuQyzpevKavKLfZr3cTs=\", false, function () {\n  return [useNavigate];\n});\n_c2 = DraggableList;\nconst mapStateToProps = store => {\n  const {\n    participant,\n    file,\n    packageState,\n    auth,\n    settings,\n    elements,\n    form,\n    sharing\n  } = store;\n  const {\n    maxx,\n    maxy,\n    total\n  } = settings;\n  const {\n    participants\n  } = participant;\n  const {\n    current_package_name,\n    sigining_docs,\n    requested_docs,\n    review_docs\n  } = file;\n  const {\n    selectedPackage,\n    message,\n    loader\n  } = packageState;\n  const {\n    user,\n    ip: host,\n    token: session\n  } = auth;\n  const {\n    element\n  } = elements;\n  const {\n    values,\n    targettable\n  } = form;\n  const {\n    selectedSharing,\n    requestUser,\n    reviewUser\n  } = sharing;\n  return {\n    current_package_name,\n    participants,\n    selectedPackage,\n    user,\n    host,\n    session,\n    maxx,\n    maxy,\n    sigining_docs,\n    requested_docs,\n    review_docs,\n    element,\n    values,\n    selectedSharing,\n    targettable,\n    total,\n    requestUser,\n    reviewUser,\n    message,\n    loader\n  };\n};\nexport default connect(mapStateToProps, {\n  addPackage,\n  resetState\n})(DraggableList);\nvar _c, _c2;\n$RefreshReg$(_c, \"DraggableList$React.memo\");\n$RefreshReg$(_c2, \"DraggableList\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Formik","yup","TextFieldFormik","CheckBoxFormik","List","connect","apiPaths","adaptParticipant","adaptSigset","hex32Toa","stringToHex32","addPackage","useNavigate","resetState","Modal","EventModal","jsxDEV","_jsxDEV","event","id","type","nexttest","name","description","DraggableList","_s","memo","_c","props","current_package_name","participants","selectedPackage","user","session","host","maxx","maxy","sigining_docs","requested_docs","review_docs","element","values","selectedSharing","total","targettable","requestUser","reviewUser","message","loader","navigate","cancelWarning","setCancelWarning","showEventModal","setShowEventModal","events","setEvents","ids","initialValues","package_name","notification_name","notificationname","fullname","notification_email","notificationemail","email","URL_field_name","redirecturl","force_signers_check_box","forcename","schema","object","shape","string","required","signer_as","when","is","then","onCreate","val","signers","map","p","i","triggersAdded","length","presentationorder","signingDocs","s","addedParticipant","signatureboxes","e","foundUser","find","signer","display_name","obj","controlid","formname","sendcopy","triggers","sharingids","indexfields","files","uniqnm","Object","packagetriggers","reviewDocs","r","docSigner","forEach","key","push","pkgname","action","requestDocs","formmessage","indexing","slice","payload","send","fileName","package","username","package_clname","modifyPdf","payLoad","console","log","JSON","stringify","res","fetch","uploadFile","method","headers","body","json","onCancel","toggleCancelWarning","toggleEventModal","handleSend","handleRemoveEvent","index","clone","splice","addEvent","date","Date","current","setDate","getDate","days","dateStr","getFullYear","getMonth","toTimeString","disabled","children","validationSchema","onSubmit","_ref","errors","touched","handleChange","handleBlur","handleSubmit","setFieldTouched","setFieldValue","isValid","className","style","display","_jsxFileName","lineNumber","columnNumber","onClick","warpperClassName","placeholder","label","autoComplete","items","onClose","classes","_c2","mapStateToProps","store","participant","file","packageState","auth","settings","elements","form","sharing","ip","token","$RefreshReg$"],"sources":["/home/tk-lpt-739/Downloads/eDOCSigAdminReact/eDOCSigAdminReact/src/pages/ManagePackage/Draggablelist.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"./managepackage.css\";\r\nimport { Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport { TextFieldFormik } from \"../../components/input/TextFieldFormik\";\r\nimport { CheckBoxFormik } from \"../../components/input/CheckBoxFromik\";\r\nimport List from \"./List\";\r\nimport { connect } from \"react-redux\";\r\nimport { IStoreState } from \"../../reducers\";\r\nimport {\r\n  IApiEvent,\r\n  IApiPackage,\r\n  IElement,\r\n  IParticipants,\r\n  IRequestDoc,\r\n  IReviewDoc,\r\n  ISigningDoc,\r\n} from \"../../interface\";\r\nimport {apiPaths} from \"../../constants/apiPaths\";\r\nimport { adaptParticipant, adaptSigset } from \"../../helpers/adapters\";\r\nimport { hex32Toa, stringToHex32 } from \"../../helpers/hex32toa\";\r\nimport { addPackage } from \"../../actions/packages\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { resetState } from \"../../actions/settings\";\r\nimport Modal from \"../../components/general/Modal\";\r\nimport { EventModal } from \"../../components/manage-package/EventModal\";\r\n\r\nconst event: IApiEvent = {\r\n  id: \"184E6B07A79A476B8C19D1822190CF7B\",\r\n  type: \"PKG_RESEND_IF_N_SGND\",\r\n  nexttest: \"2022-12-07 14:07:16\",\r\n  name: \"PKG_RESEND_IF_N_SGND1\",\r\n  description: \"Resend tickets if not signed (2022-12-07 14:07:16)\",\r\n};\r\n\r\nexport type DraggableListProps = {\r\n  current_package_name: string;\r\n  participants: IParticipants[];\r\n  selectedPackage: IApiPackage | null;\r\n  user: any;\r\n  host: string;\r\n  session: string | null;\r\n  maxx: number[];\r\n  maxy: number[];\r\n  sigining_docs: ISigningDoc[];\r\n  requested_docs: IRequestDoc[];\r\n  review_docs: IReviewDoc[];\r\n  element: IElement[][];\r\n  values: {\r\n    name: string;\r\n    value: string;\r\n  }[][];\r\n  selectedSharing: string[][];\r\n  targettable: string[];\r\n  total: number[];\r\n  requestUser: string[][];\r\n  reviewUser: string[][];\r\n  message: string;\r\n  loader: boolean;\r\n  addPackage(payload: any): void;\r\n  resetState(): void;\r\n};\r\n\r\nconst DraggableList = React.memo((props: DraggableListProps) => {\r\n  const {\r\n    current_package_name,\r\n    participants,\r\n    selectedPackage,\r\n    user,\r\n    session,\r\n    host,\r\n    maxx,\r\n    maxy,\r\n    sigining_docs,\r\n    requested_docs,\r\n    review_docs,\r\n    element,\r\n    values,\r\n    selectedSharing,\r\n    total,\r\n    targettable,\r\n    requestUser,\r\n    reviewUser,\r\n    message,\r\n    loader,\r\n    addPackage,\r\n    resetState,\r\n  } = props;\r\n\r\n  const navigate = useNavigate();\r\n  const [cancelWarning, setCancelWarning] = useState(false);\r\n  const [showEventModal, setShowEventModal] = useState(false);\r\n  const [events, setEvents] = useState<IApiEvent[]>([]);\r\n  const ids = useRef(0);\r\n\r\n  useEffect(() => {\r\n    if (message === \"pkg created\") {\r\n      navigate(\"/app\");\r\n    }\r\n  }, [message]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const initialValues = {\r\n    package_name: selectedPackage ? selectedPackage.name : current_package_name,\r\n    notification_name: selectedPackage\r\n      ? selectedPackage.notificationname\r\n      : user.fullname,\r\n    notification_email: selectedPackage\r\n      ? selectedPackage.notificationemail\r\n      : user.email,\r\n    URL_field_name: selectedPackage\r\n      ? hex32Toa(selectedPackage.redirecturl)\r\n      : \"\",\r\n    force_signers_check_box: selectedPackage\r\n      ? selectedPackage.forcename\r\n      : false,\r\n  };\r\n  const schema = yup.object().shape({\r\n    package_name: yup.string().required(),\r\n    notification_name: yup.string().required(),\r\n    notification_email: yup.string().required(),\r\n    URL_field_name: yup.string(),\r\n    signer_as: yup.string().when(\"password_check_box\", {\r\n      is: true,\r\n      then: yup.string().required(),\r\n    }),\r\n  });\r\n\r\n  const onCreate = async (val: any) => {\r\n    const signers = participants.map((p, i) => {\r\n      return adaptParticipant(p, i);\r\n    });\r\n    let triggersAdded = events.length === 0;\r\n    let presentationorder = \"\";\r\n    const signingDocs = sigining_docs.map((s, i) => {\r\n      const addedParticipant: { [key: string]: any } = {};\r\n      const signatureboxes = element[i].map((e) => {\r\n        const foundUser = signers.find((s) => s.id === e.signer);\r\n        if (foundUser) {\r\n          addedParticipant[e.signer] = foundUser;\r\n        }\r\n        return adaptSigset(e, maxx[i], maxy[i], total[i]);\r\n      });\r\n\r\n      presentationorder = presentationorder + s.display_name + \",\";\r\n\r\n      const obj: any = {\r\n        session,\r\n        controlid: user.controlid,\r\n        host,\r\n        formname: sigining_docs[i].display_name,\r\n        sendcopy: 0,\r\n        triggers: [],\r\n        signatureboxes,\r\n        sharingids: selectedSharing[i] || [],\r\n        indexfields: values[i] || [],\r\n        targettable: targettable[i] || [],\r\n        files: [sigining_docs[i].uniqnm],\r\n        presentationorder: sigining_docs[i].display_name,\r\n        signers: Object.values(addedParticipant),\r\n        forcename: val.force_signers_check_box,\r\n        redirecturl: val.URL_field_name,\r\n      };\r\n      if (!triggersAdded) {\r\n        obj.packagetriggers = events;\r\n        triggersAdded = true;\r\n      }\r\n      return obj;\r\n    });\r\n\r\n    const reviewDocs = review_docs.map((r, i) => {\r\n      const docSigner: any[] = [];\r\n      reviewUser[i].forEach((key) => {\r\n        const foundUser = signers.find((p) => p.id === key);\r\n        if (foundUser) {\r\n          docSigner.push(foundUser);\r\n        }\r\n      });\r\n      presentationorder = presentationorder + r.display_name + \",\";\r\n      const obj: any = {\r\n        session,\r\n        controlid: user.controlid,\r\n        signers: docSigner,\r\n        formname: r.display_name,\r\n        pkgname: current_package_name,\r\n        files: [r.uniqnm],\r\n        presentationorder: r.display_name,\r\n        host,\r\n        action: \"CREATEREFDOC\",\r\n      };\r\n      if (!triggersAdded) {\r\n        obj.packagetriggers = events;\r\n        triggersAdded = true;\r\n      }\r\n      return obj;\r\n    });\r\n\r\n    const requestDocs = requested_docs.map((r, i) => {\r\n      const docSigner: any[] = [];\r\n      requestUser[i].forEach((key) => {\r\n        const foundUser = signers.find((p) => p.id === key);\r\n        if (foundUser) {\r\n          docSigner.push(foundUser);\r\n        }\r\n      });\r\n      const obj: any = {\r\n        session,\r\n        controlid: user.controlid,\r\n        signers: docSigner,\r\n        formname: r.name,\r\n        host,\r\n        formmessage: stringToHex32(r.message),\r\n        action: \"CREATEREQDOC\",\r\n        indexing: [],\r\n      };\r\n      if (!triggersAdded) {\r\n        obj.packagetriggers = events;\r\n        triggersAdded = true;\r\n      }\r\n      return obj;\r\n    });\r\n    presentationorder = presentationorder.slice(0, -1);\r\n\r\n    const payload: any = {\r\n      send: val.send,\r\n      signingDocs,\r\n      reviewDocs,\r\n      requestDocs,\r\n      presentationorder,\r\n      fileName: sigining_docs[0].display_name,\r\n      package: {\r\n        id: selectedPackage ? selectedPackage.id : \"\",\r\n        session,\r\n        controlid: user.controlid,\r\n        action: \"CREATE\",\r\n        host,\r\n        username: user.username,\r\n        pkgname: val.package_clname,\r\n        notificationemail: \"\",\r\n        notificationname: \"\",\r\n      },\r\n    };\r\n    \r\n    if (val.send) {\r\n      payload[\"sendObj\"] = {\r\n        session,\r\n        controlid: user.controlid,\r\n        host,\r\n        action: \"SEND\",\r\n      };\r\n    }\r\n    await modifyPdf(payload);\r\n\r\n    // addPackage(payload);\r\n  };\r\n  const modifyPdf = async (payLoad: any)=> {\r\n    console.log(\"payLoad.signingDocss\\n\", JSON.stringify(payLoad.signingDocs));\r\n    let res = await fetch(apiPaths.uploadFile , {\r\n    method: \"PATCH\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body:  JSON.stringify(payLoad.signingDocs),\r\n  });\r\n  res = await res.json();\r\n  console.log(res);\r\n\r\n}\r\n\r\n\r\n  const onCancel = () => {\r\n    resetState();\r\n    navigate(\"/app/\");\r\n  };\r\n\r\n  const toggleCancelWarning = () => {\r\n    setCancelWarning(!cancelWarning);\r\n  };\r\n\r\n  const toggleEventModal = () => {\r\n    setShowEventModal(!showEventModal);\r\n  };\r\n\r\n  const handleSend = (values: any) => {\r\n    onCreate({ ...values, send: true });\r\n  };\r\n\r\n  const handleRemoveEvent = (index: number) => {\r\n    return () => {\r\n      const clone = [...events];\r\n      clone.splice(index, 1);\r\n      setEvents(clone);\r\n    };\r\n  };\r\n\r\n  const addEvent = (val: any) => {\r\n    const date = new Date();\r\n    const obj = { ...val };\r\n    obj.id = ids.current;\r\n    date.setDate(date.getDate() + val.days);\r\n    const dateStr = `${date.getFullYear()}-${\r\n      date.getMonth() + 1\r\n    }-${date.getDate()} ${date.toTimeString().slice(0, 8)}`;\r\n    obj.nexttest = dateStr;\r\n    obj.name = obj.type + ids.current;\r\n    obj.description = obj.description + \" (\" + dateStr + \")\";\r\n    const clone = [...events, obj];\r\n    ids.current++;\r\n    setEvents(clone);\r\n  };\r\n\r\n  const disabled = selectedPackage !== null;\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={initialValues}\r\n        validationSchema={schema}\r\n        onSubmit={onCreate}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n          setFieldTouched,\r\n          setFieldValue,\r\n          isValid,\r\n        }) => {\r\n          return (\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"main_container\">\r\n                <div style={{ display: \"flex\" }}>\r\n                  <div className=\"folder\">\r\n                    <p>Manage Package</p>\r\n                    <div>\r\n                      <button\r\n                        className=\"btn manage_btn\"\r\n                        type=\"button\"\r\n                        disabled={loader}\r\n                        onClick={toggleEventModal}\r\n                      >\r\n                        Events\r\n                      </button>\r\n                      <button\r\n                        className=\"btn manage_btn\"\r\n                        type=\"button\"\r\n                        disabled={loader}\r\n                        onClick={toggleCancelWarning}\r\n                      >\r\n                        Cancel\r\n                      </button>\r\n                      <button\r\n                        className=\"btn manage_btn\"\r\n                        type=\"submit\"\r\n                        disabled={loader}\r\n                      >\r\n                        Save\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"triangle\"></div>\r\n                </div>\r\n\r\n                <div className=\"belowFolder\">\r\n                  <div className=\"internalDiv\">\r\n                    <div className=\"packagename_field mb-3\">\r\n                      <div className=\"d-flex align-items-center flex-1\">\r\n                        <div className=\"field_name\"> Package Name: </div>\r\n                        <div className=\"field_input flex-1\">\r\n                          <TextFieldFormik\r\n                            warpperClassName=\"form-group\"\r\n                            name=\"package_name\"\r\n                            id=\"package_name\"\r\n                            placeholder=\"\"\r\n                            label=\"\"\r\n                            handleChange={handleChange}\r\n                            handleBlur={handleBlur}\r\n                            values={values}\r\n                            touched={touched}\r\n                            errors={errors}\r\n                            autoComplete={\"off\"}\r\n                            disabled={disabled || loader}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"d-flex flex-1 justify-content-end\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn_fieldinput\"\r\n                          disabled={loader || !isValid}\r\n                          onClick={() => {\r\n                            handleSend(values);\r\n                          }}\r\n                        >\r\n                          <i className=\"fa-solid fa-paper-plane-top fa-xl icon-color\"></i>\r\n                          Send\r\n                        </button>\r\n\r\n                        <button\r\n                          className=\"btn_fieldinput\"\r\n                          disabled={loader}\r\n                          type=\"button\"\r\n                          onClick={toggleCancelWarning}\r\n                        >\r\n                          <i className=\"fa-sharp fa-solid fa-ban fa-xl icon-color\"></i>\r\n                          Cancel\r\n                        </button>\r\n\r\n                        <button\r\n                          className=\"btn_fieldinput\"\r\n                          disabled={loader}\r\n                          type=\"button\"\r\n                          onClick={toggleCancelWarning}\r\n                        >\r\n                          <i className=\"fa-sharp fa-solid fa-trash fa-xl icon-color\"></i>\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"notification_field mb-3\">\r\n                      <div className=\"d-flex flex-1 align-items-center\">\r\n                        <div className=\"field_name\">Notification Name:</div>\r\n                        <div className=\"field_input flex-1\">\r\n                          <TextFieldFormik\r\n                            warpperClassName=\"form-group\"\r\n                            name=\"notification_name\"\r\n                            id=\"notification_name\"\r\n                            placeholder=\"\"\r\n                            label=\"\"\r\n                            handleChange={handleChange}\r\n                            handleBlur={handleBlur}\r\n                            values={values}\r\n                            touched={touched}\r\n                            errors={errors}\r\n                            autoComplete={\"off\"}\r\n                            disabled={disabled || loader}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"d-flex flex-1 align-items-center\">\r\n                        <div className=\"field_name\">Notification Email: </div>\r\n                        <div className=\"field_input flex-1\">\r\n                          <TextFieldFormik\r\n                            warpperClassName=\"form-group\"\r\n                            name=\"notification_email\"\r\n                            id=\"notification_email\"\r\n                            placeholder=\"\"\r\n                            label=\"\"\r\n                            handleChange={handleChange}\r\n                            handleBlur={handleBlur}\r\n                            values={values}\r\n                            touched={touched}\r\n                            errors={errors}\r\n                            autoComplete={\"off\"}\r\n                            disabled={disabled || loader}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"URL_field mb-3\">\r\n                      <div className=\"field_name\">Redirect URL:</div>\r\n                      <div className=\"URL_field_input\">\r\n                        <TextFieldFormik\r\n                          warpperClassName=\"form-group\"\r\n                          name=\"URL_field_name\"\r\n                          id=\"URL_field_name\"\r\n                          placeholder=\"\"\r\n                          label=\"\"\r\n                          handleChange={handleChange}\r\n                          handleBlur={handleBlur}\r\n                          values={values}\r\n                          touched={touched}\r\n                          errors={errors}\r\n                          autoComplete={\"off\"}\r\n                          disabled={disabled || loader}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"security_field mb-3\">\r\n                      <div className=\"field_name\"> Added Security: </div>\r\n                      <div className=\"p-2\">\r\n                        <CheckBoxFormik\r\n                          className=\"form-check-input\"\r\n                          name=\"password-check-box\"\r\n                          disabled={loader}\r\n                          setFieldTouched={setFieldTouched}\r\n                          setFieldValue={setFieldValue}\r\n                          values={values}\r\n                        />\r\n                      </div>\r\n                      <div>Password protect PDFs upon download</div>\r\n                      <div className=\"sec_field_name ms-3\">Password:</div>\r\n                      <div className=\"security_field_input flex-1\">\r\n                        <TextFieldFormik\r\n                          warpperClassName=\"form-group\"\r\n                          name=\"Password_field_name\"\r\n                          id=\"Password_field_name\"\r\n                          placeholder=\"\"\r\n                          label=\"\"\r\n                          handleChange={handleChange}\r\n                          handleBlur={handleBlur}\r\n                          values={values}\r\n                          touched={touched}\r\n                          errors={errors}\r\n                          autoComplete={\"off\"}\r\n                          disabled={loader}\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"p-2\">\r\n                        <CheckBoxFormik\r\n                          className=\"form-check-input\"\r\n                          name=\"force_signers_check_box\"\r\n                          disabled={disabled || loader}\r\n                          setFieldTouched={setFieldTouched}\r\n                          setFieldValue={setFieldValue}\r\n                          values={values}\r\n                        />\r\n                      </div>\r\n                      <p className=\"m-0\">\r\n                        Force signers to use typed names as signatures\r\n                      </p>\r\n                    </div>\r\n\r\n                    <div className=\"Participants_field\">\r\n                      <p className=\"participant_heading\">Participants:</p>\r\n                      <List items={participants} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          );\r\n        }}\r\n      </Formik>\r\n      {cancelWarning && (\r\n        <Modal\r\n          onClose={toggleCancelWarning}\r\n          classes=\"bg-white rounded p-4 w-25\"\r\n        >\r\n          <div>\r\n            <span>Cancel</span>\r\n            <hr />\r\n            <span>\r\n              All uploaded documents and information will be discarded. Do you\r\n              wish to continue?\r\n            </span>\r\n            <hr />\r\n            <div className=\"d-flex justify-content-end p-2\">\r\n              <button className=\"btn btn-primary\" onClick={toggleCancelWarning}>\r\n                No\r\n              </button>\r\n              <button className=\"btn btn-success ms-3\" onClick={onCancel}>\r\n                Yes\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n      {showEventModal && (\r\n        <EventModal\r\n          events={events}\r\n          addEvent={addEvent}\r\n          toggleEventModal={toggleEventModal}\r\n          handleRemoveEvent={handleRemoveEvent}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nconst mapStateToProps = (store: IStoreState) => {\r\n  const {\r\n    participant,\r\n    file,\r\n    packageState,\r\n    auth,\r\n    settings,\r\n    elements,\r\n    form,\r\n    sharing,\r\n  } = store;\r\n  const { maxx, maxy, total } = settings;\r\n  const { participants } = participant;\r\n  const { current_package_name, sigining_docs, requested_docs, review_docs } =\r\n    file;\r\n  const { selectedPackage, message, loader } = packageState;\r\n  const { user, ip: host, token: session } = auth;\r\n  const { element } = elements;\r\n  const { values, targettable } = form;\r\n  const { selectedSharing, requestUser, reviewUser } = sharing;\r\n  return {\r\n    current_package_name,\r\n    participants,\r\n    selectedPackage,\r\n    user,\r\n    host,\r\n    session,\r\n    maxx,\r\n    maxy,\r\n    sigining_docs,\r\n    requested_docs,\r\n    review_docs,\r\n    element,\r\n    values,\r\n    selectedSharing,\r\n    targettable,\r\n    total,\r\n    requestUser,\r\n    reviewUser,\r\n    message,\r\n    loader,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  addPackage,\r\n  resetState,\r\n})(DraggableList);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}