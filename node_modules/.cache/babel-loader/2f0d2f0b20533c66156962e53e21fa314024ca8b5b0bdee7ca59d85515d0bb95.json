{"ast":null,"code":"import { SET_AUTH_LOADER, USER_LOGIN, USER_LOGOUT, USER_FORGOT_PASSWORD, SET_MY_IP, SET_CURRENT_USER, UPDATE_ACTIVITY_TIMEOUT, UPDATE_LOGOUT_TIMEOUT, UPDATE_ACTIVTITY_MODAL } from \"../constants/actionTypes\";\nconst INITIAL_STATE = {\n  isAuthenticated: false,\n  token: null,\n  loader: false,\n  error: false,\n  message: \"\",\n  ip: \"\",\n  logoutTimeOutId: null,\n  activityTimeOutId: null,\n  showActivityModal: false\n};\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    type: \"\",\n    payload: {}\n  };\n  switch (type) {\n    case USER_LOGIN:\n      return {\n        ...state,\n        isAuthenticated: true,\n        token: payload.token,\n        user: payload.user,\n        loader: false\n      };\n    case USER_LOGOUT:\n      if (state.activityTimeOutId) {\n        clearTimeout(state.activityTimeOutId);\n      }\n      if (state.logoutTimeOutId) {\n        clearTimeout(state.logoutTimeOutId);\n      }\n      return {\n        ...state,\n        isAuthenticated: false,\n        token: null,\n        user: undefined,\n        logoutTimeOutId: null,\n        activityTimeOutId: null,\n        showActivityModal: false\n      };\n    case SET_AUTH_LOADER:\n      {\n        const {\n          loader = false,\n          error = false,\n          message = \"\"\n        } = payload;\n        return {\n          ...state,\n          loader,\n          error,\n          message\n        };\n      }\n    case USER_FORGOT_PASSWORD:\n      {\n        return {\n          ...state,\n          loader: false\n        };\n      }\n    case SET_MY_IP:\n      {\n        return {\n          ...state,\n          ip: payload.ip\n        };\n      }\n    case SET_CURRENT_USER:\n      {\n        return {\n          ...state,\n          user: payload\n        };\n      }\n    case UPDATE_LOGOUT_TIMEOUT:\n      {\n        if (state.logoutTimeOutId) {\n          clearTimeout(state.logoutTimeOutId);\n        }\n        return {\n          ...state,\n          logoutTimeOutId: payload\n        };\n      }\n    case UPDATE_ACTIVITY_TIMEOUT:\n      {\n        if (state.activityTimeOutId) {\n          clearTimeout(state.activityTimeOutId);\n        }\n        return {\n          ...state,\n          activityTimeOutId: payload\n        };\n      }\n    case UPDATE_ACTIVTITY_MODAL:\n      {\n        return {\n          ...state,\n          showActivityModal: payload\n        };\n      }\n    default:\n      return state;\n  }\n};\nexport default reducer;","map":{"version":3,"names":["SET_AUTH_LOADER","USER_LOGIN","USER_LOGOUT","USER_FORGOT_PASSWORD","SET_MY_IP","SET_CURRENT_USER","UPDATE_ACTIVITY_TIMEOUT","UPDATE_LOGOUT_TIMEOUT","UPDATE_ACTIVTITY_MODAL","INITIAL_STATE","isAuthenticated","token","loader","error","message","ip","logoutTimeOutId","activityTimeOutId","showActivityModal","reducer","state","arguments","length","undefined","type","payload","user","clearTimeout"],"sources":["/home/tk-lpt-739/Downloads/eDOCSigAdminReact/eDOCSigAdminReact/src/reducers/auth.ts"],"sourcesContent":["import {\r\n  SET_AUTH_LOADER,\r\n  USER_LOGIN,\r\n  USER_LOGOUT,\r\n  USER_FORGOT_PASSWORD,\r\n  SET_MY_IP,\r\n  SET_CURRENT_USER,\r\n  UPDATE_ACTIVITY_TIMEOUT,\r\n  UPDATE_LOGOUT_TIMEOUT,\r\n  UPDATE_ACTIVTITY_MODAL,\r\n} from \"../constants/actionTypes\";\r\nimport { IApiUser } from \"../interface\";\r\n\r\nexport interface IStoreState {\r\n  isAuthenticated: boolean;\r\n  user?: IApiUser;\r\n  token: string | null;\r\n  loader: boolean;\r\n  error: boolean;\r\n  message: string;\r\n  ip: string;\r\n  logoutTimeOutId: number | null;\r\n  activityTimeOutId: number | null;\r\n  showActivityModal: boolean;\r\n}\r\nconst INITIAL_STATE: IStoreState = {\r\n  isAuthenticated: false,\r\n  token: null,\r\n  loader: false,\r\n  error: false,\r\n  message: \"\",\r\n  ip: \"\",\r\n  logoutTimeOutId: null,\r\n  activityTimeOutId: null,\r\n  showActivityModal: false,\r\n};\r\n\r\ninterface IActionType {\r\n  type: string;\r\n  payload: any;\r\n}\r\nconst reducer = (\r\n  state = INITIAL_STATE,\r\n  { type, payload }: IActionType = { type: \"\", payload: {} }\r\n): IStoreState => {\r\n  switch (type) {\r\n    case USER_LOGIN:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        token: payload.token,\r\n        user: payload.user,\r\n        loader: false,\r\n      };\r\n    case USER_LOGOUT:\r\n      if (state.activityTimeOutId) {\r\n        clearTimeout(state.activityTimeOutId);\r\n      }\r\n      if (state.logoutTimeOutId) {\r\n        clearTimeout(state.logoutTimeOutId);\r\n      }\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        token: null,\r\n        user: undefined,\r\n        logoutTimeOutId: null,\r\n        activityTimeOutId: null,\r\n        showActivityModal: false,\r\n      };\r\n\r\n    case SET_AUTH_LOADER: {\r\n      const { loader = false, error = false, message = \"\" } = payload;\r\n      return {\r\n        ...state,\r\n        loader,\r\n        error,\r\n        message,\r\n      };\r\n    }\r\n\r\n    case USER_FORGOT_PASSWORD: {\r\n      return {\r\n        ...state,\r\n        loader: false,\r\n      };\r\n    }\r\n\r\n    case SET_MY_IP: {\r\n      return {\r\n        ...state,\r\n        ip: payload.ip,\r\n      };\r\n    }\r\n\r\n    case SET_CURRENT_USER: {\r\n      return {\r\n        ...state,\r\n        user: payload,\r\n      };\r\n    }\r\n\r\n    case UPDATE_LOGOUT_TIMEOUT: {\r\n      if (state.logoutTimeOutId) {\r\n        clearTimeout(state.logoutTimeOutId);\r\n      }\r\n      return {\r\n        ...state,\r\n        logoutTimeOutId: payload,\r\n      };\r\n    }\r\n\r\n    case UPDATE_ACTIVITY_TIMEOUT: {\r\n      if (state.activityTimeOutId) {\r\n        clearTimeout(state.activityTimeOutId);\r\n      }\r\n      return {\r\n        ...state,\r\n        activityTimeOutId: payload,\r\n      };\r\n    }\r\n\r\n    case UPDATE_ACTIVTITY_MODAL: {\r\n      return {\r\n        ...state,\r\n        showActivityModal: payload,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n"],"mappings":"AAAA,SACEA,eAAe,EACfC,UAAU,EACVC,WAAW,EACXC,oBAAoB,EACpBC,SAAS,EACTC,gBAAgB,EAChBC,uBAAuB,EACvBC,qBAAqB,EACrBC,sBAAsB,QACjB,0BAA0B;AAejC,MAAMC,aAA0B,GAAG;EACjCC,eAAe,EAAE,KAAK;EACtBC,KAAK,EAAE,IAAI;EACXC,MAAM,EAAE,KAAK;EACbC,KAAK,EAAE,KAAK;EACZC,OAAO,EAAE,EAAE;EACXC,EAAE,EAAE,EAAE;EACNC,eAAe,EAAE,IAAI;EACrBC,iBAAiB,EAAE,IAAI;EACvBC,iBAAiB,EAAE;AACrB,CAAC;AAMD,MAAMC,OAAO,GAAG,SAAAA,CAAA,EAGE;EAAA,IAFhBC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGZ,aAAa;EAAA,IACrB;IAAEe,IAAI;IAAEC;EAAqB,CAAC,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG;IAAEG,IAAI,EAAE,EAAE;IAAEC,OAAO,EAAE,CAAC;EAAE,CAAC;EAE1D,QAAQD,IAAI;IACV,KAAKvB,UAAU;MACb,OAAO;QACL,GAAGmB,KAAK;QACRV,eAAe,EAAE,IAAI;QACrBC,KAAK,EAAEc,OAAO,CAACd,KAAK;QACpBe,IAAI,EAAED,OAAO,CAACC,IAAI;QAClBd,MAAM,EAAE;MACV,CAAC;IACH,KAAKV,WAAW;MACd,IAAIkB,KAAK,CAACH,iBAAiB,EAAE;QAC3BU,YAAY,CAACP,KAAK,CAACH,iBAAiB,CAAC;MACvC;MACA,IAAIG,KAAK,CAACJ,eAAe,EAAE;QACzBW,YAAY,CAACP,KAAK,CAACJ,eAAe,CAAC;MACrC;MACA,OAAO;QACL,GAAGI,KAAK;QACRV,eAAe,EAAE,KAAK;QACtBC,KAAK,EAAE,IAAI;QACXe,IAAI,EAAEH,SAAS;QACfP,eAAe,EAAE,IAAI;QACrBC,iBAAiB,EAAE,IAAI;QACvBC,iBAAiB,EAAE;MACrB,CAAC;IAEH,KAAKlB,eAAe;MAAE;QACpB,MAAM;UAAEY,MAAM,GAAG,KAAK;UAAEC,KAAK,GAAG,KAAK;UAAEC,OAAO,GAAG;QAAG,CAAC,GAAGW,OAAO;QAC/D,OAAO;UACL,GAAGL,KAAK;UACRR,MAAM;UACNC,KAAK;UACLC;QACF,CAAC;MACH;IAEA,KAAKX,oBAAoB;MAAE;QACzB,OAAO;UACL,GAAGiB,KAAK;UACRR,MAAM,EAAE;QACV,CAAC;MACH;IAEA,KAAKR,SAAS;MAAE;QACd,OAAO;UACL,GAAGgB,KAAK;UACRL,EAAE,EAAEU,OAAO,CAACV;QACd,CAAC;MACH;IAEA,KAAKV,gBAAgB;MAAE;QACrB,OAAO;UACL,GAAGe,KAAK;UACRM,IAAI,EAAED;QACR,CAAC;MACH;IAEA,KAAKlB,qBAAqB;MAAE;QAC1B,IAAIa,KAAK,CAACJ,eAAe,EAAE;UACzBW,YAAY,CAACP,KAAK,CAACJ,eAAe,CAAC;QACrC;QACA,OAAO;UACL,GAAGI,KAAK;UACRJ,eAAe,EAAES;QACnB,CAAC;MACH;IAEA,KAAKnB,uBAAuB;MAAE;QAC5B,IAAIc,KAAK,CAACH,iBAAiB,EAAE;UAC3BU,YAAY,CAACP,KAAK,CAACH,iBAAiB,CAAC;QACvC;QACA,OAAO;UACL,GAAGG,KAAK;UACRH,iBAAiB,EAAEQ;QACrB,CAAC;MACH;IAEA,KAAKjB,sBAAsB;MAAE;QAC3B,OAAO;UACL,GAAGY,KAAK;UACRF,iBAAiB,EAAEO;QACrB,CAAC;MACH;IAEA;MACE,OAAOL,KAAK;EAAC;AAEnB,CAAC;AAED,eAAeD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}