{"ast":null,"code":"var _jsxFileName = \"/home/tk-lpt-739/Downloads/eDOCSigAdminReact/eDOCSigAdminReact/src/App.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, lazy } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Route, Routes, useLocation, useNavigate } from \"react-router-dom\";\nimport { getMyIP, getCurrentUser } from \"./actions/auth\";\nimport { updateAuthCheck } from \"./actions/settings\";\nimport { Loader } from \"./components/general/Loader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = /*#__PURE__*/lazy(_c = () => import(\"./pages/Login\"));\n_c2 = Login;\nconst MainApp = /*#__PURE__*/lazy(_c3 = () => import(\"./components/app\"));\n_c4 = MainApp;\nfunction App(props) {\n  _s();\n  console.log(\"props: \", props);\n  const {\n    auth_checking\n  } = props;\n  const navigate = useNavigate();\n  const location = useLocation();\n  useEffect(() => {\n    if (props.isAuthenticated) {\n      props.updateAuthCheck(true);\n      props.getCurrentUser(false);\n    }\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    props.getMyIP();\n    if (!props.isAuthenticated) {\n      navigate(\"/login\");\n    } else {\n      if (location.pathname === \"/\") {\n        navigate(\"/app\");\n      }\n    }\n  }, [props.isAuthenticated]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (props.isAuthenticated) {\n      props.getCurrentUser(false);\n    }\n    // eslint-disable-next-line\n  }, [props.isAuthenticated, location.pathname]);\n  if (auth_checking) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-column align-items-center justify-content-center\",\n      style: {\n        height: \"100vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        size: \"5rem\",\n        color: \"#54B4D8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/app/*\",\n      element: /*#__PURE__*/_jsxDEV(MainApp, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/login\",\n      element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Tc2PDuvmLj9juN+f8O/RdCuTbjw=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c5 = App;\nconst mapStateToProps = store => {\n  const {\n    auth,\n    settings\n  } = store;\n  const {\n    auth_checking\n  } = settings;\n  const {\n    isAuthenticated\n  } = auth;\n  return {\n    isAuthenticated,\n    auth_checking\n  };\n};\nexport default connect(mapStateToProps, {\n  getMyIP,\n  getCurrentUser,\n  updateAuthCheck\n})(App);\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Login$lazy\");\n$RefreshReg$(_c2, \"Login\");\n$RefreshReg$(_c3, \"MainApp$lazy\");\n$RefreshReg$(_c4, \"MainApp\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"names":["useEffect","lazy","connect","Route","Routes","useLocation","useNavigate","getMyIP","getCurrentUser","updateAuthCheck","Loader","jsxDEV","_jsxDEV","Login","_c","_c2","MainApp","_c3","_c4","App","props","_s","console","log","auth_checking","navigate","location","isAuthenticated","pathname","className","style","height","children","size","color","fileName","_jsxFileName","lineNumber","columnNumber","path","element","_c5","mapStateToProps","store","auth","settings","$RefreshReg$"],"sources":["/home/tk-lpt-739/Downloads/eDOCSigAdminReact/eDOCSigAdminReact/src/App.tsx"],"sourcesContent":["import { useEffect, lazy } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { IStoreState } from \"./reducers\";\r\nimport { Route, Routes, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { getMyIP, getCurrentUser } from \"./actions/auth\";\r\nimport { updateAuthCheck } from \"./actions/settings\";\r\nimport { Loader } from \"./components/general/Loader\";\r\nconst Login = lazy(() => import(\"./pages/Login\"));\r\nconst MainApp = lazy(() => import(\"./components/app\"));\r\n\r\ninterface IProps {\r\n  isAuthenticated: boolean;\r\n  auth_checking: boolean;\r\n  getMyIP(): void;\r\n  getCurrentUser(val: boolean): void;\r\n  updateAuthCheck(cehcking: boolean): void;\r\n}\r\n\r\nfunction App(props: IProps) {\r\n  console.log(\"props: \", props);\r\n  const { auth_checking } = props;\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    if (props.isAuthenticated) {\r\n      props.updateAuthCheck(true);\r\n      props.getCurrentUser(false);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  useEffect(() => {\r\n    props.getMyIP();\r\n    if (!props.isAuthenticated) {\r\n      navigate(\"/login\");\r\n    } else {\r\n      if (location.pathname === \"/\") {\r\n        navigate(\"/app\");\r\n      }\r\n    }\r\n  }, [props.isAuthenticated]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    if (props.isAuthenticated) {\r\n      props.getCurrentUser(false);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [props.isAuthenticated, location.pathname]);\r\n\r\n  if (auth_checking) {\r\n    return (\r\n      <div\r\n        className=\"d-flex flex-column align-items-center justify-content-center\"\r\n        style={{ height: \"100vh\" }}\r\n      >\r\n        <Loader size=\"5rem\" color=\"#54B4D8\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Routes>\r\n      <Route path=\"/app/*\" element={<MainApp />} />\r\n      <Route path=\"/login\" element={<Login />} />\r\n    </Routes>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (store: IStoreState) => {\r\n  const { auth, settings } = store;\r\n  const { auth_checking } = settings;\r\n\r\n  const { isAuthenticated } = auth;\r\n  return { isAuthenticated, auth_checking };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getMyIP,\r\n  getCurrentUser,\r\n  updateAuthCheck,\r\n})(App);\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,IAAI,QAAQ,OAAO;AACvC,SAASC,OAAO,QAAQ,aAAa;AAErC,SAASC,KAAK,EAAEC,MAAM,EAAEC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC1E,SAASC,OAAO,EAAEC,cAAc,QAAQ,gBAAgB;AACxD,SAASC,eAAe,QAAQ,oBAAoB;AACpD,SAASC,MAAM,QAAQ,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACrD,MAAMC,KAAK,gBAAGZ,IAAI,CAAAa,EAAA,GAACA,CAAA,KAAM,MAAM,CAAC,eAAe,CAAC,CAAC;AAACC,GAAA,GAA5CF,KAAK;AACX,MAAMG,OAAO,gBAAGf,IAAI,CAAAgB,GAAA,GAACA,CAAA,KAAM,MAAM,CAAC,kBAAkB,CAAC,CAAC;AAACC,GAAA,GAAjDF,OAAO;AAUb,SAASG,GAAGA,CAACC,KAAa,EAAE;EAAAC,EAAA;EAC1BC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEH,KAAK,CAAC;EAC7B,MAAM;IAAEI;EAAc,CAAC,GAAGJ,KAAK;EAC/B,MAAMK,QAAQ,GAAGnB,WAAW,EAAE;EAC9B,MAAMoB,QAAQ,GAAGrB,WAAW,EAAE;EAE9BL,SAAS,CAAC,MAAM;IACd,IAAIoB,KAAK,CAACO,eAAe,EAAE;MACzBP,KAAK,CAACX,eAAe,CAAC,IAAI,CAAC;MAC3BW,KAAK,CAACZ,cAAc,CAAC,KAAK,CAAC;IAC7B;IACA;EACF,CAAC,EAAE,EAAE,CAAC;EACNR,SAAS,CAAC,MAAM;IACdoB,KAAK,CAACb,OAAO,EAAE;IACf,IAAI,CAACa,KAAK,CAACO,eAAe,EAAE;MAC1BF,QAAQ,CAAC,QAAQ,CAAC;IACpB,CAAC,MAAM;MACL,IAAIC,QAAQ,CAACE,QAAQ,KAAK,GAAG,EAAE;QAC7BH,QAAQ,CAAC,MAAM,CAAC;MAClB;IACF;EACF,CAAC,EAAE,CAACL,KAAK,CAACO,eAAe,CAAC,CAAC,CAAC,CAAC;;EAE7B3B,SAAS,CAAC,MAAM;IACd,IAAIoB,KAAK,CAACO,eAAe,EAAE;MACzBP,KAAK,CAACZ,cAAc,CAAC,KAAK,CAAC;IAC7B;IACA;EACF,CAAC,EAAE,CAACY,KAAK,CAACO,eAAe,EAAED,QAAQ,CAACE,QAAQ,CAAC,CAAC;EAE9C,IAAIJ,aAAa,EAAE;IACjB,oBACEZ,OAAA;MACEiB,SAAS,EAAC,8DAA8D;MACxEC,KAAK,EAAE;QAAEC,MAAM,EAAE;MAAQ,CAAE;MAAAC,QAAA,eAE3BpB,OAAA,CAACF,MAAM;QAACuB,IAAI,EAAC,MAAM;QAACC,KAAK,EAAC;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAG;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAClC;EAEV;EAEA,oBACE1B,OAAA,CAACR,MAAM;IAAA4B,QAAA,gBACLpB,OAAA,CAACT,KAAK;MAACoC,IAAI,EAAC,QAAQ;MAACC,OAAO,eAAE5B,OAAA,CAACI,OAAO;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAI;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,eAC7C1B,OAAA,CAACT,KAAK;MAACoC,IAAI,EAAC,QAAQ;MAACC,OAAO,eAAE5B,OAAA,CAACC,KAAK;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAI;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACpC;AAEb;AAACjB,EAAA,CAhDQF,GAAG;EAAA,QAGOb,WAAW,EACXD,WAAW;AAAA;AAAAoC,GAAA,GAJrBtB,GAAG;AAkDZ,MAAMuB,eAAe,GAAIC,KAAkB,IAAK;EAC9C,MAAM;IAAEC,IAAI;IAAEC;EAAS,CAAC,GAAGF,KAAK;EAChC,MAAM;IAAEnB;EAAc,CAAC,GAAGqB,QAAQ;EAElC,MAAM;IAAElB;EAAgB,CAAC,GAAGiB,IAAI;EAChC,OAAO;IAAEjB,eAAe;IAAEH;EAAc,CAAC;AAC3C,CAAC;AAED,eAAetB,OAAO,CAACwC,eAAe,EAAE;EACtCnC,OAAO;EACPC,cAAc;EACdC;AACF,CAAC,CAAC,CAACU,GAAG,CAAC;AAAC,IAAAL,EAAA,EAAAC,GAAA,EAAAE,GAAA,EAAAC,GAAA,EAAAuB,GAAA;AAAAK,YAAA,CAAAhC,EAAA;AAAAgC,YAAA,CAAA/B,GAAA;AAAA+B,YAAA,CAAA7B,GAAA;AAAA6B,YAAA,CAAA5B,GAAA;AAAA4B,YAAA,CAAAL,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}