{"ast":null,"code":"var _jsxFileName = \"/home/tk-lpt-739/Downloads/eDOCSigAdminReact/eDOCSigAdminReact/src/pages/AddElements/index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { updateHeaderTitle, updatePDFSettings } from \"../../actions/settings\";\nimport CheckBox from \"../../components/add-elements/elements/CheckBox\";\nimport DatePicker from \"../../components/add-elements/elements/DatePicker\";\nimport DateSigned from \"../../components/add-elements/elements/DateSigned\";\nimport InitialBox from \"../../components/add-elements/elements/InitialBox\";\nimport List from \"../../components/add-elements/elements/List\";\nimport Memo from \"../../components/add-elements/elements/Memo\";\nimport RadioBox from \"../../components/add-elements/elements/RadioBox\";\nimport Signature from \"../../components/add-elements/elements/Signature\";\nimport TextBox from \"../../components/add-elements/elements/Textbox\";\nimport Sidebar from \"../../components/add-elements/Sidebar\";\nimport \"./style.css\";\nimport { throttle } from \"../../helpers/throttle\";\nimport Modal from \"../../components/general/Modal\";\nimport { setElements } from \"../../actions/element\";\nimport UpdateForm from \"../../components/add-participants/UpdateForm\";\nimport PDF from \"../../components/add-participants/PDF\";\nimport { colors, MAX_ZOOM, MIN_ZOOM } from \"../../constants/index\";\nimport PDFRightBar from \"../../components/general/PDFRightBar\";\nimport { getSingleForm } from \"../../actions/form\";\nimport { useNavigate } from \"react-router-dom\";\nimport Confirm from \"../../components/general/Confirm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst default_setting = {\n  CHECKBOx: {\n    width: 25,\n    height: 25\n  },\n  RADIOBOX: {\n    width: 30,\n    height: 25\n  },\n  INITIALBOX: {\n    width: 100,\n    height: 35\n  },\n  DATEPICKER: {\n    width: 200,\n    height: 35\n  },\n  DATESIGNED: {\n    width: 200,\n    height: 35\n  },\n  LIST: {\n    width: 130,\n    height: 35\n  },\n  MEMO: {\n    width: 325,\n    height: 75\n  },\n  SIGNATURE: {\n    width: 275,\n    height: 35\n  },\n  TEXTBOX: {\n    width: 275,\n    height: 35\n  }\n};\nexport let EElementTypes = /*#__PURE__*/function (EElementTypes) {\n  EElementTypes[\"CHECKBOx\"] = \"CHECKBOx\";\n  EElementTypes[\"DATEPICKER\"] = \"DATEPICKER\";\n  EElementTypes[\"DATESIGNED\"] = \"DATESIGNED\";\n  EElementTypes[\"INITIALBOX\"] = \"INITIALBOX\";\n  EElementTypes[\"LIST\"] = \"LIST\";\n  EElementTypes[\"MEMO\"] = \"MEMO\";\n  EElementTypes[\"RADIOBOX\"] = \"RADIOBOX\";\n  EElementTypes[\"SIGNATURE\"] = \"SIGNATURE\";\n  EElementTypes[\"TEXTBOX\"] = \"TEXTBOX\";\n  return EElementTypes;\n}({});\nconst getElemetByType = (type, props) => {\n  // console.log(props, type);\n  switch (type) {\n    case EElementTypes.CHECKBOx:\n      {\n        return /*#__PURE__*/_jsxDEV(CheckBox, {\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 14\n        }, this);\n      }\n    case EElementTypes.DATEPICKER:\n      {\n        return /*#__PURE__*/_jsxDEV(DatePicker, {\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 14\n        }, this);\n      }\n    case EElementTypes.DATESIGNED:\n      {\n        return /*#__PURE__*/_jsxDEV(DateSigned, {\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 14\n        }, this);\n      }\n    case EElementTypes.INITIALBOX:\n      {\n        return /*#__PURE__*/_jsxDEV(InitialBox, {\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 14\n        }, this);\n      }\n    case EElementTypes.LIST:\n      {\n        return /*#__PURE__*/_jsxDEV(List, {\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 14\n        }, this);\n      }\n    case EElementTypes.MEMO:\n      {\n        return /*#__PURE__*/_jsxDEV(Memo, {\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 14\n        }, this);\n      }\n    case EElementTypes.RADIOBOX:\n      {\n        return /*#__PURE__*/_jsxDEV(RadioBox, {\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 14\n        }, this);\n      }\n    case EElementTypes.SIGNATURE:\n      {\n        return /*#__PURE__*/_jsxDEV(Signature, {\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 14\n        }, this);\n      }\n    case EElementTypes.TEXTBOX:\n      {\n        return /*#__PURE__*/_jsxDEV(TextBox, {\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 14\n        }, this);\n      }\n    default:\n      {\n        return /*#__PURE__*/_jsxDEV(TextBox, {\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 14\n        }, this);\n      }\n  }\n};\nconst AddElements = props => {\n  _s();\n  const navigate = useNavigate();\n  const [sidebarCollapsed, setSideBarCollapsed] = useState(false);\n  const [selected, setSelected] = useState(\"\");\n  const [drawing, setDrawing] = useState(false);\n  const [start, setStart] = useState({\n    x: 0,\n    y: 0\n  });\n  const [offSet, setOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [scrollOffset, setScrollOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [updatingElement, setUpdatingElement] = useState(false); //to manage resize and drag while element is selected from sidebar\n  const [showSettings, setShowSettings] = useState(false);\n  const [settingsFor, setSettingsFor] = useState(\"\");\n  const [elementValues, setElementValues] = useState({});\n  const [total, setTotal] = useState(0); //to manage ids\n  const [currentPage, setCurrentPage] = useState(1);\n  const [participantOptions, setParticipantOptions] = useState([]);\n  const [formOptions, setFormOptions] = useState([]);\n  const [selectionStyle, setSelectionStyle] = useState({\n    top: -999,\n    left: -999,\n    width: 0,\n    height: 0,\n    backgroundColor: colors[0]\n  });\n  const [elements, setElements] = useState([]);\n  const [zoom, setZoom] = useState(1);\n  const [showWarning, setShowWarning] = useState(false);\n  const defaultRef = useRef(default_setting);\n  const initialparticipant = participantOptions.length > 0 ? {\n    index: 0,\n    value: participantOptions[0].value,\n    label: participantOptions[0].label\n  } : {\n    index: 0,\n    value: \"\",\n    label: \"\"\n  };\n  const [selectedUser, setSelectedUser] = useState(initialparticipant);\n  useEffect(() => {\n    let el = props.elements[props.current_doc] || [];\n    el = el.map(e => {\n      const index = props.participants.findIndex(p => p.key === e.signer);\n      const backgroundColor = colors[index];\n      return {\n        ...e,\n        backgroundColor\n      };\n    });\n    setElements(el);\n    setTotal(props.total);\n    const arr = props.participants.map(p => {\n      return {\n        label: p.fullname,\n        value: p.key\n      };\n    });\n    if (arr.length > 0) {\n      setSelectedUser({\n        ...arr[0],\n        index: 0\n      });\n    }\n    setParticipantOptions(arr);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    const arrForm = props.forms.map(formName => {\n      return {\n        label: formName,\n        value: formName,\n        type: formName\n      };\n    });\n    const arr = {\n      label: \"\",\n      value: \"\",\n      type: \"\"\n    };\n    const x = [arr, ...arrForm];\n    setFormOptions(x);\n  }, []);\n  useEffect(() => {\n    if (settingsFor !== \"\") {\n      const values = elements.find(e => e.id === settingsFor);\n      setElementValues(values);\n    } else {\n      setElementValues({});\n    }\n  }, [settingsFor, elements]);\n  const getNameLabel = name => {\n    const [first = \"\", last = \"\"] = name.split(\" \");\n    return first.charAt(0) + last.charAt(0);\n  };\n  const toggleSettings = function () {\n    let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    if (typeof value !== \"string\") {\n      setSettingsFor(\"\");\n    } else {\n      setSettingsFor(value);\n    }\n    setShowSettings(!showSettings);\n  };\n  const toggleSidebar = () => {\n    setSideBarCollapsed(!sidebarCollapsed);\n  };\n  const toggleWarning = () => {\n    setShowWarning(!showWarning);\n  };\n  const updateElemet = (values, id) => {\n    const index = elements.findIndex(e => (id || settingsFor) === e.id);\n    if (index > -1) {\n      const signerIndex = participantOptions.findIndex(p => p.value === values.signer);\n      if (signerIndex > -1) {\n        values.backgroundColor = colors[signerIndex % 4];\n      }\n      const type = elements[index].type;\n      const {\n        width,\n        height\n      } = values;\n      if (width && height) {\n        defaultRef.current[type] = {\n          width: values.width,\n          height: values.height\n        };\n      }\n      const newArray = [...elements];\n      const newElement = {\n        ...newArray[index],\n        ...values\n      };\n      newArray[index] = newElement;\n      setElements(newArray);\n    }\n  };\n  const handleDelete = id => {\n    const index = elements.findIndex(e => (id || settingsFor) === e.id);\n    if (index > -1) {\n      const newArr = [...elements];\n      newArr.splice(index, 1);\n      setElements(newArr);\n    }\n  };\n  const onAdd = values => {\n    const {\n      width = 0,\n      height = 0\n    } = values;\n    if (width === 0 || height === 0) {\n      return;\n    }\n    const clone = [...elements];\n    values.name = values.name + total;\n    values.id = values.name;\n    values.required = true;\n    if (values.type === EElementTypes.LIST) {\n      values.options = [{\n        label: \"\",\n        value: \"\"\n      }];\n    }\n    if (values.type === EElementTypes.TEXTBOX) {\n      console.log(\"vs: \", values);\n    }\n    clone.push(values);\n    setElements(clone);\n    setTotal(total + 1);\n  };\n  useEffect(() => {\n    props.updateHeaderTitle({\n      header_title: \"Adding Elements...\"\n    });\n    return () => {\n      props.updateHeaderTitle({\n        header_title: \"\"\n      });\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n  const clasess = sidebarCollapsed ? \"element_container element_container_sidebar_collaped\" : \"element_container\";\n  const drawElement = (w, h) => {\n    if (updatingElement) {\n      return;\n    }\n    const width = w / zoom;\n    const height = h / zoom;\n    const x = (start.x - offSet.x + scrollOffset.x) / zoom;\n    const y = (start.y - offSet.y + scrollOffset.y) / zoom;\n    defaultRef.current[selected] = {\n      width,\n      height\n    };\n    onAdd({\n      x,\n      y,\n      width,\n      height,\n      name: selected,\n      type: selected,\n      signer: selectedUser.value,\n      backgroundColor: colors[selectedUser.index],\n      defaultvalue: \"\",\n      checkedvalue: \"Y\",\n      uncheckedvalue: \"N\"\n    });\n    setSelectionStyle({\n      top: -999,\n      left: -999,\n      width: 0,\n      height: 0,\n      backgroundColor: colors[selectedUser.index]\n    });\n  };\n  const getDefaultDir = type => {\n    return defaultRef.current[type];\n  };\n  useEffect(() => {\n    const el = document.getElementById(\"element_container\");\n    if (el) {\n      setOffset({\n        x: el.offsetLeft,\n        y: el.offsetTop\n      });\n    }\n  }, []);\n  useEffect(() => {\n    const mainElement = document.getElementById(\"element_container\");\n    const onScroll = _e => {\n      if (mainElement) {\n        const {\n          scrollLeft,\n          scrollTop\n        } = mainElement;\n        const currentPage = Math.floor(scrollTop / zoom / props.maxy[props.current_doc]) + 1;\n        setCurrentPage(currentPage);\n        setScrollOffset({\n          x: scrollLeft,\n          y: scrollTop\n        });\n      }\n    };\n    mainElement === null || mainElement === void 0 ? void 0 : mainElement.addEventListener(\"scroll\", onScroll);\n    return () => {\n      mainElement === null || mainElement === void 0 ? void 0 : mainElement.removeEventListener(\"scroll\", onScroll);\n    };\n  }, [props.maxy, zoom]);\n  const handleMouseMove = !updatingElement && drawing ? throttle(e => {\n    const width = Math.abs(e.clientX - start.x) / zoom;\n    const height = Math.abs(e.clientY - start.y) / zoom;\n    if (width === 0 || height === 0) {\n      return;\n    }\n    const top = (start.y - offSet.y + scrollOffset.y) / zoom;\n    const left = (start.x - offSet.x + scrollOffset.x) / zoom;\n    setSelectionStyle({\n      backgroundColor: colors[selectedUser.index],\n      top,\n      left,\n      width,\n      height\n    });\n  }, 100) : undefined;\n  const handleZoomIn = () => {\n    const newZoom = zoom + 0.25;\n    if (newZoom <= MAX_ZOOM) {\n      setZoom(newZoom);\n    }\n  };\n  const handleZoomOut = () => {\n    const newZoom = zoom - 0.25;\n    if (newZoom >= MIN_ZOOM) {\n      setZoom(newZoom);\n    }\n  };\n  const updatePDFSettings = (x, y, total) => {\n    if (!props.pdf_setted[props.current_doc]) {\n      props.updatePDFSettings({\n        index: props.current_doc,\n        maxx: x,\n        maxy: y,\n        total\n      });\n    }\n  };\n  const onConfirm = () => {\n    props.setElements({\n      index: props.current_doc,\n      element: elements,\n      total\n    });\n    navigate(\"/app/managepackage\");\n  };\n  const handleNext = () => {\n    const addedParticipant = {};\n    for (const element of elements) {\n      addedParticipant[element.signer] = element.signer;\n    }\n    if (Object.keys(addedParticipant).length !== props.participants.length) {\n      toggleWarning();\n    } else {\n      onConfirm();\n    }\n  };\n  const selectSigner = (index, p) => {\n    return () => {\n      setSelectedUser({\n        index,\n        value: p.value,\n        label: p.label\n      });\n    };\n  };\n  const handleMouseDown = e => {\n    if (e.button === 0) {\n      if (selected) {\n        setDrawing(true);\n        setStart({\n          x: e.clientX,\n          y: e.clientY\n        });\n      }\n    }\n  };\n  const handleMouseUp = e => {\n    if (e.button === 0) {\n      if (start.x === e.clientX && start.y === e.clientY) {\n        const {\n          width,\n          height\n        } = getDefaultDir(selected);\n        drawElement(width * zoom, height * zoom);\n        setStart({\n          x: 0,\n          y: 0\n        });\n        setDrawing(false);\n        return;\n      }\n      if (selected) {\n        setDrawing(false);\n        drawElement(e.clientX - start.x, e.clientY - start.y);\n      }\n    }\n  };\n  const {\n    count,\n    sigining_docs,\n    requested_docs,\n    review_docs\n  } = props;\n  let file = \"\";\n  if (sigining_docs.length > 0) {\n    file = sigining_docs[props.current_doc].uniqnm;\n  } else if (review_docs.length > 0) {\n    file = review_docs[props.current_review_doc].uniqnm;\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: count > 0 && requested_docs[0].name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: clasess,\n    id: \"element_main\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"elements_sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"elements_participant_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"participant_item-selected shadow\",\n          style: {\n            backgroundColor: colors[selectedUser.index]\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: getNameLabel(selectedUser.label)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 11\n        }, this), participantOptions.map((p, index) => {\n          if (selectedUser.index === index) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"none\"\n              }\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 22\n            }, this);\n          }\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"particpant_item shadow\",\n            style: {\n              backgroundColor: colors[index]\n              //  display: selectedUser.index === index ? \"none\" : \"flex\",\n            },\n\n            onClick: selectSigner(index, p),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: getNameLabel(p.label)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n        sidebarCollapsed: sidebarCollapsed,\n        toggleSidebar: toggleSidebar,\n        setSelected: setSelected,\n        selected: selected,\n        selectedUser: selectedUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"elements_header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"elements_header_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"adjust\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"fa-layers fa-fw fa-2x\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-folder folder-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"fa-layers-text w-100 text-white folder-icon-text\",\n                children: props.count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"elements_header_documents\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Document \", props.index + 1, \" of \", props.count]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"name_adjust\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Package : \", props.current_package_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Doc Name: \", props.sigining_docs[props.current_doc].display_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"elements_header_zoom_container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-end align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-2\",\n              onClick: handleZoomOut,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-magnifying-glass-minus zoom-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"zoom-icon-seprator\",\n                children: \"|\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-2\",\n              onClick: handleZoomIn,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-magnifying-glass-plus zoom-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"element_content\",\n      id: \"element_container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"elements_content_main\",\n        style: {\n          transform: `scale(${zoom})`,\n          transformOrigin: \"0 0\",\n          maxWidth: props.maxx[props.current_doc]\n        },\n        onMouseDown: handleMouseDown,\n        onMouseUp: handleMouseUp,\n        onMouseMove: handleMouseMove,\n        children: [/*#__PURE__*/_jsxDEV(PDF, {\n          file: file,\n          updatePDFSettings: updatePDFSettings\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this), elements.map(el => {\n          return getElemetByType(el.type, {\n            key: el.id,\n            setUpdatingElement,\n            showSettings,\n            toggleSettings,\n            settingsFor,\n            updateElemet,\n            scale: zoom,\n            ...el\n          });\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drawing_element\",\n          style: {\n            ...selectionStyle\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"elements_action\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: handleNext,\n        disabled: elements.length === 0,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1\",\n        children: [\"total : \", props.totalPages[props.index]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"element_rightbar pt-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(PDFRightBar, {\n          file: file,\n          currentPage: currentPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 7\n    }, this), showSettings && /*#__PURE__*/_jsxDEV(Modal, {\n      onClose: toggleSettings,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: settingsFor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(UpdateForm, {\n          closeSettings: toggleSettings,\n          updateElemet: updateElemet,\n          handleDelete: handleDelete,\n          initial: elementValues,\n          participantOptions: participantOptions,\n          formOptions: formOptions,\n          singleForm: props.singleForm,\n          elements: elements,\n          getSingleForm: props.getSingleForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 9\n    }, this), showWarning && /*#__PURE__*/_jsxDEV(Confirm, {\n      onClose: toggleWarning,\n      onConfrim: onConfirm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 475,\n    columnNumber: 5\n  }, this);\n};\n_s(AddElements, \"shWtnbqOzWKQAq88CdTuoWdYZ5U=\", false, function () {\n  return [useNavigate];\n});\n_c = AddElements;\nconst mapStateToProps = store => {\n  const {\n    participant,\n    elements,\n    file,\n    settings,\n    form\n  } = store;\n  const {\n    participants\n  } = participant;\n  const {\n    element,\n    total\n  } = elements;\n  const {\n    index,\n    pdf_setted,\n    current_doc,\n    current_review_doc,\n    maxy,\n    maxx,\n    total: totalPages\n  } = settings;\n  const {\n    count,\n    sigining_docs,\n    requested_docs,\n    review_docs,\n    current_package_name\n  } = file;\n  const {\n    forms,\n    form: singleForm\n  } = form;\n  return {\n    current_doc,\n    current_review_doc,\n    participants,\n    elements: element,\n    total,\n    totalPages,\n    index,\n    count,\n    sigining_docs,\n    requested_docs,\n    review_docs,\n    current_package_name,\n    pdf_setted,\n    forms,\n    singleForm,\n    maxy,\n    maxx\n  };\n};\nexport default connect(mapStateToProps, {\n  updateHeaderTitle,\n  setElements,\n  updatePDFSettings,\n  getSingleForm\n})(AddElements);\nvar _c;\n$RefreshReg$(_c, \"AddElements\");","map":{"version":3,"names":["React","useEffect","useRef","useState","connect","updateHeaderTitle","updatePDFSettings","CheckBox","DatePicker","DateSigned","InitialBox","List","Memo","RadioBox","Signature","TextBox","Sidebar","throttle","Modal","setElements","UpdateForm","PDF","colors","MAX_ZOOM","MIN_ZOOM","PDFRightBar","getSingleForm","useNavigate","Confirm","jsxDEV","_jsxDEV","default_setting","CHECKBOx","width","height","RADIOBOX","INITIALBOX","DATEPICKER","DATESIGNED","LIST","MEMO","SIGNATURE","TEXTBOX","EElementTypes","getElemetByType","type","props","fileName","_jsxFileName","lineNumber","columnNumber","AddElements","_s","navigate","sidebarCollapsed","setSideBarCollapsed","selected","setSelected","drawing","setDrawing","start","setStart","x","y","offSet","setOffset","scrollOffset","setScrollOffset","updatingElement","setUpdatingElement","showSettings","setShowSettings","settingsFor","setSettingsFor","elementValues","setElementValues","total","setTotal","currentPage","setCurrentPage","participantOptions","setParticipantOptions","formOptions","setFormOptions","selectionStyle","setSelectionStyle","top","left","backgroundColor","elements","zoom","setZoom","showWarning","setShowWarning","defaultRef","initialparticipant","length","index","value","label","selectedUser","setSelectedUser","el","current_doc","map","e","participants","findIndex","p","key","signer","arr","fullname","arrForm","forms","formName","values","find","id","getNameLabel","name","first","last","split","charAt","toggleSettings","arguments","undefined","toggleSidebar","toggleWarning","updateElemet","signerIndex","current","newArray","newElement","handleDelete","newArr","splice","onAdd","clone","required","options","console","log","push","header_title","clasess","drawElement","w","h","defaultvalue","checkedvalue","uncheckedvalue","getDefaultDir","document","getElementById","offsetLeft","offsetTop","mainElement","onScroll","_e","scrollLeft","scrollTop","Math","floor","maxy","addEventListener","removeEventListener","handleMouseMove","abs","clientX","clientY","handleZoomIn","newZoom","handleZoomOut","pdf_setted","maxx","onConfirm","element","handleNext","addedParticipant","Object","keys","selectSigner","handleMouseDown","button","handleMouseUp","count","sigining_docs","requested_docs","review_docs","file","uniqnm","current_review_doc","className","children","style","display","onClick","current_package_name","display_name","transform","transformOrigin","maxWidth","onMouseDown","onMouseUp","onMouseMove","scale","disabled","totalPages","onClose","closeSettings","initial","singleForm","onConfrim","_c","mapStateToProps","store","participant","settings","form","$RefreshReg$"],"sources":["/home/tk-lpt-739/Downloads/eDOCSigAdminReact/eDOCSigAdminReact/src/pages/AddElements/index.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { updateHeaderTitle, updatePDFSettings } from \"../../actions/settings\";\r\nimport CheckBox from \"../../components/add-elements/elements/CheckBox\";\r\nimport DatePicker from \"../../components/add-elements/elements/DatePicker\";\r\nimport DateSigned from \"../../components/add-elements/elements/DateSigned\";\r\nimport InitialBox from \"../../components/add-elements/elements/InitialBox\";\r\nimport List from \"../../components/add-elements/elements/List\";\r\nimport Memo from \"../../components/add-elements/elements/Memo\";\r\nimport RadioBox from \"../../components/add-elements/elements/RadioBox\";\r\nimport Signature from \"../../components/add-elements/elements/Signature\";\r\nimport TextBox from \"../../components/add-elements/elements/Textbox\";\r\nimport Sidebar from \"../../components/add-elements/Sidebar\";\r\nimport \"./style.css\";\r\n\r\nimport { throttle } from \"../../helpers/throttle\";\r\nimport Modal from \"../../components/general/Modal\";\r\nimport { IStoreState } from \"../../reducers\";\r\nimport { setElements } from \"../../actions/element\";\r\nimport UpdateForm from \"../../components/add-participants/UpdateForm\";\r\nimport PDF from \"../../components/add-participants/PDF\";\r\nimport { colors, MAX_ZOOM, MIN_ZOOM } from \"../../constants/index\";\r\nimport PDFRightBar from \"../../components/general/PDFRightBar\";\r\nimport { getSingleForm } from \"../../actions/form\";\r\nimport {\r\n  IElement,\r\n  IOptions,\r\n  IParticipants,\r\n  IRequestDoc,\r\n  IReviewDoc,\r\n  ISigningDoc,\r\n} from \"../../interface\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Confirm from \"../../components/general/Confirm\";\r\n\r\nconst default_setting: { [key: string]: { width: number; height: number } } = {\r\n  CHECKBOx: { width: 25, height: 25 },\r\n  RADIOBOX: { width: 30, height: 25 },\r\n  INITIALBOX: { width: 100, height: 35 },\r\n  DATEPICKER: { width: 200, height: 35 },\r\n  DATESIGNED: { width: 200, height: 35 },\r\n  LIST: { width: 130, height: 35 },\r\n  MEMO: { width: 325, height: 75 },\r\n  SIGNATURE: { width: 275, height: 35 },\r\n  TEXTBOX: { width: 275, height: 35 },\r\n};\r\n\r\nexport enum EElementTypes {\r\n  CHECKBOx = \"CHECKBOx\",\r\n  DATEPICKER = \"DATEPICKER\",\r\n  DATESIGNED = \"DATESIGNED\",\r\n  INITIALBOX = \"INITIALBOX\",\r\n  LIST = \"LIST\",\r\n  MEMO = \"MEMO\",\r\n  RADIOBOX = \"RADIOBOX\",\r\n  SIGNATURE = \"SIGNATURE\",\r\n  TEXTBOX = \"TEXTBOX\",\r\n}\r\n\r\ninterface IProps {\r\n  elements: IElement[][];\r\n  participants: IParticipants[];\r\n  current_doc: number;\r\n  current_review_doc: number;\r\n  totalPages: number[];\r\n  total: number;\r\n  index: number;\r\n  count: number;\r\n  forms: string[];\r\n  current_package_name: string;\r\n  requested_docs: IRequestDoc[];\r\n  review_docs: IReviewDoc[];\r\n  sigining_docs: ISigningDoc[];\r\n  pdf_setted: boolean[];\r\n  singleForm: { fields: { fieldname: string; fieldtype: string }[] };\r\n  updateHeaderTitle(args: any): void;\r\n  setElements(elements: any): void;\r\n  updatePDFSettings(payload: any): void;\r\n  getSingleForm(payload?: any): void;\r\n  maxy: number[];\r\n  maxx: number[];\r\n}\r\n\r\nconst getElemetByType = (type: string, props: any) => {\r\n  // console.log(props, type);\r\n  switch (type) {\r\n    case EElementTypes.CHECKBOx: {\r\n      return <CheckBox {...props} />;\r\n    }\r\n    case EElementTypes.DATEPICKER: {\r\n      return <DatePicker {...props} />;\r\n    }\r\n    case EElementTypes.DATESIGNED: {\r\n      return <DateSigned {...props} />;\r\n    }\r\n    case EElementTypes.INITIALBOX: {\r\n      return <InitialBox {...props} />;\r\n    }\r\n    case EElementTypes.LIST: {\r\n      return <List {...props} />;\r\n    }\r\n    case EElementTypes.MEMO: {\r\n      return <Memo {...props} />;\r\n    }\r\n    case EElementTypes.RADIOBOX: {\r\n      return <RadioBox {...props} />;\r\n    }\r\n    case EElementTypes.SIGNATURE: {\r\n      return <Signature {...props} />;\r\n    }\r\n    case EElementTypes.TEXTBOX: {\r\n      return <TextBox {...props} />;\r\n    }\r\n    default: {\r\n      return <TextBox {...props} />;\r\n    }\r\n  }\r\n};\r\nconst AddElements: React.FC<IProps> = (props) => {\r\n  const navigate = useNavigate();\r\n  const [sidebarCollapsed, setSideBarCollapsed] = useState(false);\r\n  const [selected, setSelected] = useState(\"\");\r\n  const [drawing, setDrawing] = useState(false);\r\n  const [start, setStart] = useState<{ x: number; y: number }>({ x: 0, y: 0 });\r\n  const [offSet, setOffset] = useState({ x: 0, y: 0 });\r\n  const [scrollOffset, setScrollOffset] = useState({ x: 0, y: 0 });\r\n  const [updatingElement, setUpdatingElement] = useState(false); //to manage resize and drag while element is selected from sidebar\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [settingsFor, setSettingsFor] = useState(\"\");\r\n  const [elementValues, setElementValues] = useState<any>({});\r\n  const [total, setTotal] = useState(0); //to manage ids\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [participantOptions, setParticipantOptions] = useState<\r\n    {\r\n      label: string;\r\n      value: string;\r\n    }[]\r\n  >([]);\r\n  const [formOptions, setFormOptions] = useState<\r\n    {\r\n      label: string;\r\n      value: string;\r\n    }[]\r\n  >([]);\r\n\r\n  const [selectionStyle, setSelectionStyle] = useState<{\r\n    top: number;\r\n    left: number;\r\n    width: number;\r\n    height: number;\r\n    backgroundColor?: string;\r\n  }>({\r\n    top: -999,\r\n    left: -999,\r\n    width: 0,\r\n    height: 0,\r\n    backgroundColor: colors[0],\r\n  });\r\n  const [elements, setElements] = useState<IElement[]>([]);\r\n  const [zoom, setZoom] = useState(1);\r\n  const [showWarning, setShowWarning] = useState(false);\r\n  const defaultRef = useRef(default_setting);\r\n  const initialparticipant =\r\n    participantOptions.length > 0\r\n      ? {\r\n          index: 0,\r\n          value: participantOptions[0].value,\r\n          label: participantOptions[0].label,\r\n        }\r\n      : { index: 0, value: \"\", label: \"\" };\r\n  const [selectedUser, setSelectedUser] = useState(initialparticipant);\r\n  useEffect(() => {\r\n    let el = props.elements[props.current_doc] || [];\r\n    el = el.map((e) => {\r\n      const index = props.participants.findIndex((p) => p.key === e.signer);\r\n      const backgroundColor = colors[index];\r\n      return { ...e, backgroundColor };\r\n    });\r\n    setElements(el);\r\n    setTotal(props.total);\r\n    const arr = props.participants.map((p) => {\r\n      return { label: p.fullname, value: p.key };\r\n    });\r\n    if (arr.length > 0) {\r\n      setSelectedUser({ ...arr[0], index: 0 });\r\n    }\r\n    setParticipantOptions(arr);\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    const arrForm = props.forms.map((formName) => {\r\n      return { label: formName, value: formName, type: formName };\r\n    });\r\n    const arr = { label: \"\", value: \"\", type: \"\" };\r\n    const x = [arr, ...arrForm];\r\n    setFormOptions(x);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (settingsFor !== \"\") {\r\n      const values = elements.find((e) => e.id === settingsFor);\r\n      setElementValues(values);\r\n    } else {\r\n      setElementValues({});\r\n    }\r\n  }, [settingsFor, elements]);\r\n\r\n  const getNameLabel = (name: string) => {\r\n    const [first = \"\", last = \"\"] = name.split(\" \");\r\n    return first.charAt(0) + last.charAt(0);\r\n  };\r\n\r\n  const toggleSettings = (value: string = \"\") => {\r\n    if (typeof value !== \"string\") {\r\n      setSettingsFor(\"\");\r\n    } else {\r\n      setSettingsFor(value);\r\n    }\r\n\r\n    setShowSettings(!showSettings);\r\n  };\r\n\r\n  const toggleSidebar = () => {\r\n    setSideBarCollapsed(!sidebarCollapsed);\r\n  };\r\n\r\n  const toggleWarning = () => {\r\n    setShowWarning(!showWarning);\r\n  };\r\n\r\n  const updateElemet = (values: IElement, id?: string) => {\r\n    const index = elements.findIndex((e) => (id || settingsFor) === e.id);\r\n    if (index > -1) {\r\n      const signerIndex = participantOptions.findIndex(\r\n        (p) => p.value === values.signer\r\n      );\r\n      if (signerIndex > -1) {\r\n        values.backgroundColor = colors[signerIndex % 4];\r\n      }\r\n      const type = elements[index].type;\r\n      const { width, height } = values;\r\n      if (width && height) {\r\n        defaultRef.current[type] = {\r\n          width: values.width,\r\n          height: values.height,\r\n        };\r\n      }\r\n\r\n      const newArray = [...elements];\r\n      const newElement = { ...newArray[index], ...values };\r\n      newArray[index] = newElement;\r\n      setElements(newArray);\r\n    }\r\n  };\r\n\r\n  const handleDelete = (id?: string) => {\r\n    const index = elements.findIndex((e) => (id || settingsFor) === e.id);\r\n    if (index > -1) {\r\n      const newArr = [...elements];\r\n      newArr.splice(index, 1);\r\n      setElements(newArr);\r\n    }\r\n  };\r\n\r\n  const onAdd = (values: any) => {\r\n    const { width = 0, height = 0 } = values;\r\n    if (width === 0 || height === 0) {\r\n      return;\r\n    }\r\n    const clone = [...elements];\r\n    values.name = values.name + total;\r\n    values.id = values.name;\r\n    values.required = true;\r\n    if (values.type === EElementTypes.LIST) {\r\n      values.options = [\r\n        {\r\n          label: \"\",\r\n          value: \"\",\r\n        },\r\n      ];\r\n    }\r\n    if (values.type === EElementTypes.TEXTBOX) {\r\n      console.log(\"vs: \", values);\r\n    }\r\n\r\n    clone.push(values);\r\n    setElements(clone);\r\n    setTotal(total + 1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    props.updateHeaderTitle({ header_title: \"Adding Elements...\" });\r\n    return () => {\r\n      props.updateHeaderTitle({ header_title: \"\" });\r\n    };\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n  const clasess = sidebarCollapsed\r\n    ? \"element_container element_container_sidebar_collaped\"\r\n    : \"element_container\";\r\n\r\n  const drawElement = (w: number, h: number) => {\r\n    if (updatingElement) {\r\n      return;\r\n    }\r\n    const width = w / zoom;\r\n    const height = h / zoom;\r\n    const x = (start.x - offSet.x + scrollOffset.x) / zoom;\r\n    const y = (start.y - offSet.y + scrollOffset.y) / zoom;\r\n    defaultRef.current[selected] = { width, height };\r\n    onAdd({\r\n      x,\r\n      y,\r\n      width,\r\n      height,\r\n      name: selected,\r\n      type: selected,\r\n      signer: selectedUser.value,\r\n      backgroundColor: colors[selectedUser.index],\r\n      defaultvalue: \"\",\r\n      checkedvalue: \"Y\",\r\n      uncheckedvalue: \"N\",\r\n    });\r\n    setSelectionStyle({\r\n      top: -999,\r\n      left: -999,\r\n      width: 0,\r\n      height: 0,\r\n      backgroundColor: colors[selectedUser.index],\r\n    });\r\n  };\r\n\r\n  const getDefaultDir = (type: string) => {\r\n    return defaultRef.current[type];\r\n  };\r\n\r\n  useEffect(() => {\r\n    const el = document.getElementById(\"element_container\");\r\n    if (el) {\r\n      setOffset({ x: el.offsetLeft, y: el.offsetTop });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const mainElement = document.getElementById(\"element_container\");\r\n    const onScroll = (_e: any) => {\r\n      if (mainElement) {\r\n        const { scrollLeft, scrollTop } = mainElement;\r\n        const currentPage =\r\n          Math.floor(scrollTop / zoom / props.maxy[props.current_doc]) + 1;\r\n        setCurrentPage(currentPage);\r\n        setScrollOffset({ x: scrollLeft, y: scrollTop });\r\n      }\r\n    };\r\n    mainElement?.addEventListener(\"scroll\", onScroll);\r\n    return () => {\r\n      mainElement?.removeEventListener(\"scroll\", onScroll);\r\n    };\r\n  }, [props.maxy, zoom]);\r\n\r\n  const handleMouseMove =\r\n    !updatingElement && drawing\r\n      ? throttle((e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n          const width = Math.abs(e.clientX - start.x) / zoom;\r\n          const height = Math.abs(e.clientY - start.y) / zoom;\r\n          if (width === 0 || height === 0) {\r\n            return;\r\n          }\r\n          const top = (start.y - offSet.y + scrollOffset.y) / zoom;\r\n          const left = (start.x - offSet.x + scrollOffset.x) / zoom;\r\n\r\n          setSelectionStyle({\r\n            backgroundColor: colors[selectedUser.index],\r\n            top,\r\n            left,\r\n            width,\r\n            height,\r\n          });\r\n        }, 100)\r\n      : undefined;\r\n\r\n  const handleZoomIn = () => {\r\n    const newZoom = zoom + 0.25;\r\n    if (newZoom <= MAX_ZOOM) {\r\n      setZoom(newZoom);\r\n    }\r\n  };\r\n\r\n  const handleZoomOut = () => {\r\n    const newZoom = zoom - 0.25;\r\n    if (newZoom >= MIN_ZOOM) {\r\n      setZoom(newZoom);\r\n    }\r\n  };\r\n\r\n  const updatePDFSettings = (x: number, y: number, total: number) => {\r\n    if (!props.pdf_setted[props.current_doc]) {\r\n      props.updatePDFSettings({\r\n        index: props.current_doc,\r\n        maxx: x,\r\n        maxy: y,\r\n        total,\r\n      });\r\n    }\r\n  };\r\n\r\n  const onConfirm = () => {\r\n    props.setElements({\r\n      index: props.current_doc,\r\n      element: elements,\r\n      total,\r\n    });\r\n    navigate(\"/app/managepackage\");\r\n  };\r\n\r\n  const handleNext = () => {\r\n    const addedParticipant: { [key: string]: any } = {};\r\n    for (const element of elements) {\r\n      addedParticipant[element.signer] = element.signer;\r\n    }\r\n\r\n    if (Object.keys(addedParticipant).length !== props.participants.length) {\r\n      toggleWarning();\r\n    } else {\r\n      onConfirm();\r\n    }\r\n  };\r\n\r\n  const selectSigner = (index: number, p: IOptions) => {\r\n    return () => {\r\n      setSelectedUser({ index, value: p.value, label: p.label });\r\n    };\r\n  };\r\n\r\n  const handleMouseDown = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n    if (e.button === 0) {\r\n      if (selected) {\r\n        setDrawing(true);\r\n        setStart({ x: e.clientX, y: e.clientY });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleMouseUp = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n    if (e.button === 0) {\r\n      if (start.x === e.clientX && start.y === e.clientY) {\r\n        const { width, height } = getDefaultDir(selected);\r\n        drawElement(width * zoom, height * zoom);\r\n        setStart({ x: 0, y: 0 });\r\n        setDrawing(false);\r\n        return;\r\n      }\r\n      if (selected) {\r\n        setDrawing(false);\r\n        drawElement(e.clientX - start.x, e.clientY - start.y);\r\n      }\r\n    }\r\n  };\r\n\r\n  const { count, sigining_docs, requested_docs, review_docs } = props;\r\n\r\n  let file = \"\";\r\n  if (sigining_docs.length > 0) {\r\n    file = sigining_docs[props.current_doc].uniqnm;\r\n  } else if (review_docs.length > 0) {\r\n    file = review_docs[props.current_review_doc].uniqnm;\r\n  } else {\r\n    return (\r\n      <div className=\"d-flex justify-content-center\">\r\n        <h3>{count > 0 && requested_docs[0].name}</h3>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={clasess} id=\"element_main\">\r\n      <div className=\"elements_sidebar\">\r\n        <div className=\"elements_participant_container\">\r\n          <div\r\n            className=\"participant_item-selected shadow\"\r\n            style={{ backgroundColor: colors[selectedUser.index] }}\r\n          >\r\n            <span>{getNameLabel(selectedUser.label)}</span>\r\n          </div>\r\n          {participantOptions.map((p, index) => {\r\n            if (selectedUser.index === index) {\r\n              return <div key={index} style={{ display: \"none\" }}></div>;\r\n            }\r\n            return (\r\n              <div\r\n                className=\"particpant_item shadow\"\r\n                style={{\r\n                  backgroundColor: colors[index],\r\n                  //  display: selectedUser.index === index ? \"none\" : \"flex\",\r\n                }}\r\n                key={index}\r\n                onClick={selectSigner(index, p)}\r\n              >\r\n                <span>{getNameLabel(p.label)}</span>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <Sidebar\r\n          sidebarCollapsed={sidebarCollapsed}\r\n          toggleSidebar={toggleSidebar}\r\n          setSelected={setSelected}\r\n          selected={selected}\r\n          selectedUser={selectedUser}\r\n        />\r\n      </div>\r\n      <div className=\"elements_header\">\r\n        <div className=\"elements_header_container\">\r\n          <div>\r\n            <div className=\"adjust\">\r\n              <span className=\"fa-layers fa-fw fa-2x\">\r\n                <i className=\"fa fa-folder folder-icon\"></i>\r\n                <span className=\"fa-layers-text w-100 text-white folder-icon-text\">\r\n                  {props.count}\r\n                </span>\r\n              </span>\r\n            </div>\r\n            <div className=\"elements_header_documents\">\r\n              <span>\r\n                Document {props.index + 1} of {props.count}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"name_adjust\">\r\n            <h5>Package : {props.current_package_name}</h5>\r\n            <h5>\r\n              Doc Name: {props.sigining_docs[props.current_doc].display_name}\r\n            </h5>\r\n          </div>\r\n          <div className=\"elements_header_zoom_container\">\r\n            <div className=\"d-flex justify-content-end align-items-center\">\r\n              <div className=\"pt-2\" onClick={handleZoomOut}>\r\n                <i className=\"fa-solid fa-magnifying-glass-minus zoom-icon\"></i>\r\n              </div>\r\n              <div>\r\n                <span className=\"zoom-icon-seprator\">|</span>\r\n              </div>\r\n              <div className=\"pt-2\" onClick={handleZoomIn}>\r\n                <i className=\"fa-solid fa-magnifying-glass-plus zoom-icon\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"element_content\" id=\"element_container\">\r\n        <div\r\n          className=\"elements_content_main\"\r\n          style={{\r\n            transform: `scale(${zoom})`,\r\n            transformOrigin: \"0 0\",\r\n            maxWidth: props.maxx[props.current_doc],\r\n          }}\r\n          onMouseDown={handleMouseDown}\r\n          onMouseUp={handleMouseUp}\r\n          onMouseMove={handleMouseMove}\r\n        >\r\n          <PDF file={file} updatePDFSettings={updatePDFSettings} />\r\n          {elements.map((el) => {\r\n            return getElemetByType(el.type, {\r\n              key: el.id,\r\n              setUpdatingElement,\r\n              showSettings,\r\n              toggleSettings,\r\n              settingsFor,\r\n              updateElemet,\r\n              scale: zoom,\r\n              ...el,\r\n            });\r\n          })}\r\n          <div className=\"drawing_element\" style={{ ...selectionStyle }} />\r\n        </div>\r\n      </div>\r\n      <div className=\"elements_action\">\r\n        <button\r\n          className=\"btn btn-primary\"\r\n          onClick={handleNext}\r\n          disabled={elements.length === 0}\r\n        >\r\n          Next\r\n        </button>\r\n        <p className=\"mt-1\">total : {props.totalPages[props.index]}</p>\r\n      </div>\r\n      <div className=\"element_rightbar pt-3\">\r\n        <div>\r\n          <PDFRightBar file={file} currentPage={currentPage} />\r\n        </div>\r\n      </div>\r\n      {showSettings && (\r\n        <Modal onClose={toggleSettings}>\r\n          <div className=\"w-100\">\r\n            <h4>{settingsFor}</h4>\r\n            <UpdateForm\r\n              closeSettings={toggleSettings}\r\n              updateElemet={updateElemet}\r\n              handleDelete={handleDelete}\r\n              initial={elementValues}\r\n              participantOptions={participantOptions}\r\n              formOptions={formOptions}\r\n              singleForm={props.singleForm}\r\n              elements={elements}\r\n              getSingleForm={props.getSingleForm}\r\n            />\r\n          </div>\r\n        </Modal>\r\n      )}\r\n      {showWarning && <Confirm onClose={toggleWarning} onConfrim={onConfirm} />}\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (store: IStoreState) => {\r\n  const { participant, elements, file, settings, form } = store;\r\n  const { participants } = participant;\r\n  const { element, total } = elements;\r\n  const {\r\n    index,\r\n    pdf_setted,\r\n    current_doc,\r\n    current_review_doc,\r\n    maxy,\r\n    maxx,\r\n    total: totalPages,\r\n  } = settings;\r\n  const {\r\n    count,\r\n    sigining_docs,\r\n    requested_docs,\r\n    review_docs,\r\n    current_package_name,\r\n  } = file;\r\n  const { forms, form: singleForm } = form;\r\n  return {\r\n    current_doc,\r\n    current_review_doc,\r\n    participants,\r\n    elements: element,\r\n    total,\r\n    totalPages,\r\n    index,\r\n    count,\r\n    sigining_docs,\r\n    requested_docs,\r\n    review_docs,\r\n    current_package_name,\r\n    pdf_setted,\r\n    forms,\r\n    singleForm,\r\n    maxy,\r\n    maxx,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  updateHeaderTitle,\r\n  setElements,\r\n  updatePDFSettings,\r\n  getSingleForm,\r\n})(AddElements);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}