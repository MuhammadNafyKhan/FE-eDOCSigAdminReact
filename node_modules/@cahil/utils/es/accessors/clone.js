/**
 * @module accessors
 */
export default function clone(original, options = {}) {
    let output;
    // Can't clone functions, only copy if the flag is set
    if (typeof original === 'function')
        output = options.copyFunctions ? original : {};
    // Nulls will be caught as objects later so return them now
    else if (original === null)
        output = null;
    // If the input is a date, create a new one with the same value
    else if (original instanceof Date)
        output = new Date(original.valueOf());
    // If the input is an array, clone each item
    else if (Array.isArray(original))
        output = original.map(value => clone(value, options));
    // If the input is an object, clone each value onto a new object
    else if (typeof original === 'object') {
        output = {};
        for (const [key, value] of Object.entries(original)) {
            output[key] = clone(value, options);
        }
    }
    // If anything above matched the return the output
    if (output !== undefined)
        return output;
    // Don't know how to handle this type, just return the original
    return original;
}
